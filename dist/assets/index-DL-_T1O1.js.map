{"version":3,"file":"index-DL-_T1O1.js","sources":["../../mistlogo.svg","../../components/CoverPage.vue","../../components/StatsCards.vue","../../node_modules/.pnpm/leaflet.markercluster@1.5.3_leaflet@1.9.4/node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js","../../components/PhotoMap.vue","../../node_modules/.pnpm/chart.js@4.5.1/node_modules/chart.js/auto/auto.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constants.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/constructFrom.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/toDate.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addDays.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addMonths.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addMilliseconds.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addHours.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/defaultOptions.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfISOWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getISOWeekYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/normalizeDates.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfDay.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarDays.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfISOWeekYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addMinutes.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addQuarters.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addSeconds.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addWeeks.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/addYears.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/compareAsc.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isDate.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isValid.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarMonths.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInCalendarYears.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInDays.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/getRoundingMethod.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInHours.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMilliseconds.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMinutes.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfDay.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfMonth.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/isLastDayOfMonth.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInMonths.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInQuarters.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInSeconds.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInWeeks.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/differenceInYears.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfQuarter.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfMonth.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfHour.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfMinute.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfQuarter.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/endOfSecond.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatDistance.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatLong.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/formatRelative.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/localize.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildMatchFn.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US/_lib/match.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getDayOfYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getISOWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getWeekYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfWeekYear.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/addLeadingZeros.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/lightFormatters.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/formatters.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/format/longFormatters.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/protectedTokens.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/format.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getDefaultOptions.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/getISODay.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/transpose.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/Setter.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/Parser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/EraParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/constants.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/utils.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/YearParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/LocalWeekYearParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ISOWeekYearParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ExtendedYearParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/QuarterParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/StandAloneQuarterParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/MonthParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/StandAloneMonthParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/setWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/LocalWeekParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/setISOWeek.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ISOWeekParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/DateParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/DayOfYearParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/setDay.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/DayParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/LocalDayParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/StandAloneLocalDayParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/setISODay.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ISODayParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/AMPMParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/AMPMMidnightParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/DayPeriodParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/Hour1to12Parser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/Hour0to23Parser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/Hour0To11Parser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/Hour1To24Parser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/MinuteParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/SecondParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/FractionOfSecondParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ISOTimezoneWithZParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/ISOTimezoneParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/TimestampSecondsParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers/TimestampMillisecondsParser.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse/_lib/parsers.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parse.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfHour.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfMinute.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/startOfSecond.js","../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/parseISO.js","../../node_modules/.pnpm/chartjs-adapter-date-fns@3.0.0_chart.js@4.5.1_date-fns@4.1.0/node_modules/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.esm.js","../../components/DashboardCharts.vue","../../components/ContributorsTable.vue","../../components/Footer.vue","../../composables/useApi.js","../../composables/useData.js","../../App.vue","../../main.js"],"sourcesContent":["export default \"__VITE_ASSET__DSaPuv8P__\"","<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50\">\n    <!-- Header with Navigation -->\n    <header class=\"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center h-16\">\n          <!-- Logo and Title -->\n          <div class=\"flex items-center space-x-4\">\n            <div class=\"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-wikimedia-blue to-wikimedia-green rounded-lg\">\n              <svg class=\"w-6 h-6 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"/>\n              </svg>\n            </div>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">MIST : Analytics</h1>\n              <p class=\"text-sm text-gray-500 hidden sm:block\">Media Statistics and Analytics Dashboard for Campaigns</p>\n            </div>\n          </div>\n          \n          <!-- Top Navigation Menu -->\n          <nav class=\"hidden md:flex items-center space-x-8\">\n            <a href=\"#\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Home</a>\n            <a href=\"https://w.wiki/t9\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Wikimedians of Kerala</a>\n            <a href=\"https://gitlab.wikimedia.org/toolforge-repos/mist-tool\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Gitlab</a>\n            <a href=\"https://commons.wikimedia.org\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Wikimedia Commons</a>\n          </nav>\n          \n          <!-- Mobile menu button -->\n          <div class=\"md:hidden\">\n            <button @click=\"mobileMenuOpen = !mobileMenuOpen\" class=\"text-gray-700 hover:text-wikimedia-blue p-2\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path v-if=\"!mobileMenuOpen\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                <path v-else stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n              </svg>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Mobile menu -->\n        <div v-if=\"mobileMenuOpen\" class=\"md:hidden border-t border-gray-200 py-4\">\n          <nav class=\"flex flex-col space-y-2\">\n            <a href=\"#\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Home</a>\n            <a href=\"https://w.wiki/t9\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Wikimedians of Kerala</a>\n            <a href=\"https://gitlab.wikimedia.org/toolforge-repos/mist-tool\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Gitlab</a>\n            <a href=\"https://commons.wikimedia.org\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Wikimedia Commons</a>\n          </nav>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n      <!-- Hero Section -->\n      <div class=\"text-center mb-4 animate-fade-in\">\n        <!-- Logo and Main Heading Container -->\n        <div class=\"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 mb-4\">\n          <!-- MIST Logo -->\n          <div class=\"flex-shrink-0\">\n            <div class=\"w-20 h-20 md:w-24 md:h-24 lg:w-28 lg:h-28 transition-transform duration-300 hover:scale-105\">\n              <img src=\"/mistlogo.svg\" alt=\"MIST Logo\" class=\"w-full h-full object-contain drop-shadow-lg\" />\n            </div>\n          </div>\n          \n          <!-- Main Heading -->\n          <div class=\"flex-1\">\n            <h2 class=\"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-wikimedia-blue via-wikimedia-green to-wikimedia-blue bg-clip-text text-transparent leading-tight\">\n              Wikimedia Commons Analytics\n            </h2>\n          </div>\n        </div>\n        \n        <p class=\"text-lg md:text-xl text-gray-600 mb-1 max-w-3xl mx-auto leading-relaxed\">\n         View Statistics of a Wikimedia Commons photography campaign\n        </p>\n      </div>\n      <!-- Custom Category Search Section -->\n      <div class=\"mb-16 animate-fade-in\">\n        <div class=\"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-gray-100 p-6 max-w-3xl mx-auto\">\n          <div class=\"text-center mb-4\">\n            <h3 class=\"text-2xl font-bold text-gray-800 mb-2\">Category of Campaign</h3>\n            <p class=\"text-gray-600\">Search for any Wikimedia Commons category of a campaign to analyze</p>\n          </div>\n          \n          <div class=\"relative\">\n            <div class=\"flex flex-col md:flex-row gap-3\">\n              <div class=\"flex-1 relative\">\n                <input\n                  ref=\"categoryInput\"\n                  v-model=\"customCategoryQuery\"\n                  @input=\"handleCategoryInput\"\n                  @keydown.down.prevent=\"navigateSuggestion(1)\"\n                  @keydown.up.prevent=\"navigateSuggestion(-1)\"\n                  @keydown.enter.prevent=\"selectCurrentSuggestion\"\n                  @keydown.escape=\"hideSuggestions\"\n                  @focus=\"showSuggestions = customCategoryQuery.length >= 3\"\n                  type=\"text\"\n                  placeholder=\"Type category name:\"\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wikimedia-blue focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500\"\n                />\n                \n                <!-- Loading indicator in input -->\n                <div v-if=\"searchingCategories\" class=\"absolute right-4 top-1/2 transform -translate-y-1/2\">\n                  <div class=\"w-5 h-5 border-2 border-wikimedia-blue/20 border-t-wikimedia-blue rounded-full animate-spin\"></div>\n                </div>\n                \n                <!-- Autocomplete dropdown -->\n                <div\n                  v-if=\"showSuggestions && categorySuggestions.length > 0\"\n                  class=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto\"\n                >\n                  <div\n                    v-for=\"(suggestion, index) in categorySuggestions\"\n                    :key=\"suggestion.title\"\n                    @click=\"selectSuggestion(suggestion)\"\n                    @mouseenter=\"selectedSuggestionIndex = index\"\n                    :class=\"[\n                      'px-4 py-3 cursor-pointer transition-colors duration-150 border-b border-gray-100 last:border-b-0',\n                      selectedSuggestionIndex === index\n                        ? 'bg-wikimedia-blue text-white'\n                        : 'hover:bg-gray-50 text-gray-900'\n                    ]\"\n                  >\n                    <div class=\"font-medium\">{{ suggestion.title.replace('Category:', '') }}</div>\n                    <div \n                      v-if=\"suggestion.categoryinfo && suggestion.categoryinfo.pages\"\n                      :class=\"[\n                        'text-sm mt-1',\n                        selectedSuggestionIndex === index ? 'text-blue-100' : 'text-gray-500'\n                      ]\"\n                    >\n                      {{ suggestion.categoryinfo.pages }} pages\n                    </div>\n                    <!-- Commons Link -->\n                    <div \n                      :class=\"[\n                        'text-xs mt-1 flex items-center',\n                        selectedSuggestionIndex === index ? 'text-blue-200' : 'text-gray-400'\n                      ]\"\n                    >\n                      <svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"></path>\n                      </svg>\n                      commons.wikimedia.org/wiki/{{ suggestion.title.replace(' ', '_') }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <button\n                @click=\"analyzeCustomCategory\"\n                :disabled=\"!customCategoryQuery.trim() || searchingCategories\"\n                class=\"px-6 py-3 bg-gradient-to-r from-wikimedia-blue to-wikimedia-green text-white rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center font-medium\"\n              >\n                <svg v-if=\"searchingCategories\" class=\"animate-spin -ml-1 mr-2 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <svg v-else class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\n                </svg>\n                {{ searchingCategories ? 'Searching...' : 'View Statistics' }}\n              </button>\n            </div>\n            \n            <!-- Current category Commons link -->\n            <div v-if=\"currentCommonsUrl\" class=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center text-sm text-blue-700\">\n                  <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path>\n                  </svg>\n                 \n\n                <a \n                  :href=\"currentCommonsUrl\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  class=\"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline transition-colors duration-200\"\n                >\n                  View Category on Wikimedia Commons â†’\n                </a>\n                </div>\n              </div>\n              <div class=\"mt-1 text-xs text-blue-600 font-mono break-all\">\n               URL :  {{ currentCommonsUrl }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Error Message -->\n      <div v-if=\"error || categorySearchError\" class=\"bg-red-50 border-l-4 border-red-400 text-red-700 p-6 rounded-lg mb-8 max-w-3xl mx-auto shadow-lg animate-slide-up\">\n        <div class=\"flex items-center\">\n          <svg class=\"w-6 h-6 mr-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n          </svg>\n          <span class=\"font-medium\">{{ error || categorySearchError }}</span>\n        </div>\n      </div>\n\n      <!-- Loading Categories -->\n      <div v-if=\"loading\" class=\"text-center py-20 animate-fade-in\">\n        <div class=\"relative inline-block\">\n          <div class=\"w-16 h-16 border-4 border-wikimedia-blue/20 border-t-wikimedia-blue rounded-full animate-spin\"></div>\n          <div class=\"absolute inset-0 w-16 h-16 border-4 border-transparent border-r-wikimedia-green rounded-full animate-spin\" style=\"animation-delay: -0.5s; animation-direction: reverse;\"></div>\n        </div>\n        <p class=\"mt-6 text-xl text-gray-600 font-medium\">Loading categories...</p>\n        <p class=\"mt-2 text-gray-500\">Fetching contest data from Wikimedia Commons</p>\n      </div>\n\n      <!-- Categories Section -->\n      <div v-else-if=\"categories.length > 0\" class=\"animate-slide-up\">\n        <div class=\"text-center mb-12\">\n          <h3 class=\"text-3xl font-bold text-gray-800 mb-3\">Featured Contest Categories</h3>\n          <p class=\"text-gray-600 text-lg\">{{ categories.length }} contest{{ categories.length !== 1 ? 's' : '' }} available for analysis</p>\n        </div>\n        \n        <!-- Horizontal Cards -->\n        <div class=\"space-y-6\">\n          <div\n            v-for=\"(category, index) in categories\"\n            :key=\"category.id\"\n            @click=\"$emit('select', category)\"\n            class=\"group bg-white/80 backdrop-blur-sm rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 border border-gray-100 overflow-hidden\"\n            :style=\"{ animationDelay: `${index * 100}ms` }\"\n          >\n            <div class=\"flex items-center p-6\">\n              <!-- Icon Section -->\n              <div \n                class=\"flex items-center justify-center w-16 h-16 rounded-lg mr-6 flex-shrink-0 group-hover:scale-110 transition-transform duration-300 overflow-hidden\"\n                :style=\"{ background: isImageIcon(category.icon) ? 'transparent' : `linear-gradient(135deg, ${category.color1 || '#0645ad'} 0%, ${category.color2 || '#00af89'} 100%)` }\"\n              >\n                <!-- Image Icon -->\n                <img \n                  v-if=\"isImageIcon(category.icon)\" \n                  :src=\"category.icon\" \n                  :alt=\"category.name\"\n                  class=\"w-full h-full object-cover rounded-lg\"\n                  @error=\"onImageError($event, category)\"\n                />\n                <!-- Emoji Fallback -->\n                <span v-else class=\"text-2xl\">{{ category.icon || 'ðŸ“Š' }}</span>\n              </div>\n              \n              <!-- Content Section -->\n              <div class=\"flex-1 min-w-0\">\n                <div class=\"flex items-start justify-between\">\n                  <div class=\"flex-1\">\n                    <h3 class=\"text-xl font-bold text-gray-800 mb-2 group-hover:text-wikimedia-blue transition-colors duration-300\">\n                      {{ category.name }}\n                    </h3>\n                    <p class=\"text-gray-600 text-sm mb-3 line-clamp-2 leading-relaxed\">\n                      {{ category.description }}\n                    </p>\n                    <div class=\"flex items-center space-x-3\">\n                      <span class=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700\">\n                        {{ category.year || 'Contest' }}\n                      </span>\n                      <div class=\"flex items-center text-wikimedia-blue font-medium text-sm group-hover:translate-x-1 transition-transform duration-300\">\n                        <span class=\"mr-1\">View Analytics</span>\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\"></path>\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"!loading\" class=\"text-center py-20 animate-fade-in\">\n        <div class=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n          <svg class=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n          </svg>\n        </div>\n        <h3 class=\"text-xl font-semibold text-gray-700 mb-2\">No Categories Available</h3>\n        <p class=\"text-gray-500\">No contest categories found. Use the custom search above to find categories.</p>\n      </div>\n\n      <!-- Footer -->\n      <footer class=\"text-center mt-20 pt-12 border-t border-gray-200 animate-fade-in\">\n        <div class=\"flex items-center justify-center space-x-8 mb-6\">\n          <div class=\"flex items-center space-x-2 text-gray-600\">\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n            </svg>\n            <a href=\"https://wikitech.wikimedia.org/wiki/Portal:Toolforge\" target=\"_blank\">\n            <span class=\"font-medium\">Wikimedia Toolforge</span>\n            </a>\n          </div>\n          <div class=\"flex items-center space-x-2 text-gray-600\">\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n            </svg>\n            <a href=\"https://hay.toolforge.org/directory/\" target=\"_blank\">\n            <span class=\"font-medium\">Tools Directory</span>\n            </a>\n          </div>\n          <div class=\"flex items-center space-x-2 text-gray-600\">\n            <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n            </svg>\n            <a href=\"https://w.wiki/t9\" target=\"_blank\">\n            <span class=\"font-medium\">Wikimedians of Kerala</span>\n            </a>\n          </div>\n        </div>\n        <p class=\"text-gray-500 text-sm mb-2\">\n          Powered by <a href=\"https://commons.wikimedia.org/\" target=\"_blank\"></a><span class=\"font-semibold text-wikimedia-blue\">Wikimedia Commons API</span> â€¢ \n          Built with <a href=\"https://vuejs.org/\" target=\"_blank\"><span class=\"font-semibold text-wikimedia-green\">Vue.js</span></a> & \n        <a href=\"https://tailwindcss.com/\" target=\"_blank\"><span class=\"font-semibold text-wikimedia-purple\">TailwindCSS</span></a>\n        </p>\n        <p class=\"text-gray-400 text-xs\">\n          Analyzing media contributions from the world's largest free media repository\n        </p>\n      </footer>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, nextTick, onMounted, onUnmounted, computed, watch } from 'vue';\n\nconst props = defineProps({\n  categories: {\n    type: Array,\n    required: true,\n    default: () => []\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  error: {\n    type: String,\n    default: ''\n  }\n});\n\nconst emit = defineEmits(['select', 'custom']);\n\nconst mobileMenuOpen = ref(false);\n\n// Custom category search\nconst customCategoryQuery = ref('');\nconst categorySuggestions = ref([]);\nconst showSuggestions = ref(false);\nconst searchingCategories = ref(false);\nconst selectedSuggestionIndex = ref(-1);\nconst categorySearchError = ref('');\nconst categoryInput = ref(null);\n\nlet searchTimeout = null;\n\n// Helper function to check if icon is an image URL\nconst isImageIcon = (icon) => {\n  return icon && (icon.startsWith('http://') || icon.startsWith('https://'));\n};\n\n// Helper function to handle image loading errors\nconst onImageError = (event, category) => {\n  console.warn(`Failed to load image icon for category ${category.name}:`, event.target.src);\n  // Replace with default emoji fallback\n  event.target.style.display = 'none';\n  const parent = event.target.parentElement;\n  if (parent) {\n    parent.style.background = `linear-gradient(135deg, ${category.color1 || '#0645ad'} 0%, ${category.color2 || '#00af89'} 100%)`;\n    const fallbackSpan = document.createElement('span');\n    fallbackSpan.className = 'text-2xl';\n    fallbackSpan.textContent = 'ðŸ“Š'; // Default chart emoji\n    parent.appendChild(fallbackSpan);\n  }\n};\n\n// Helper function to normalize category names (remove Category: prefix, replace spaces with underscores)\nconst normalizeCategoryName = (name) => {\n  return name.replace(/^Category:/i, '').replace(/\\s+/g, '_');\n};\n\n// Computed property for current Commons URL\nconst currentCommonsUrl = computed(() => {\n  if (!customCategoryQuery.value.trim()) return null;\n  \n  let categoryName = customCategoryQuery.value.trim();\n  // Remove Category: prefix if present, then normalize\n  const normalizedName = normalizeCategoryName(categoryName);\n  return `https://commons.wikimedia.org/wiki/Category:${normalizedName}`;\n});\n\n// Watch for URL changes to populate the input field\nwatch(() => {\n  const params = new URLSearchParams(window.location.search);\n  return params.get('category');\n}, (categorySlug) => {\n  if (categorySlug && !customCategoryQuery.value) {\n    // Decode and convert underscores back to spaces for display\n    const decodedSlug = decodeURIComponent(categorySlug);\n    // Remove Category: prefix if present in URL\n    const cleanSlug = decodedSlug.replace(/^Category:/i, '');\n    customCategoryQuery.value = cleanSlug.replace(/_/g, ' ');\n  }\n}, { immediate: true });\n\nconst handleCategoryInput = () => {\n  const query = customCategoryQuery.value.trim();\n  \n  if (query.length < 3) {\n    showSuggestions.value = false;\n    categorySuggestions.value = [];\n    return;\n  }\n\n  // Clear previous timeout\n  if (searchTimeout) {\n    clearTimeout(searchTimeout);\n  }\n  \n  // Debounce search\n  searchTimeout = setTimeout(() => {\n    searchCategories(query);\n  }, 300);\n};\n\nconst searchCategories = async (query) => {\n  if (!query || query.length < 3) return;\n  \n  searchingCategories.value = true;\n  categorySearchError.value = '';\n  \n  try {\n    // Add \"Category:\" prefix if not present\n    let searchQuery = query;\n    if (!searchQuery.toLowerCase().startsWith('category:')) {\n      searchQuery = `Category:${query}`;\n    }\n    \n    // Use MediaWiki API to search for categories\n    const apiUrl = 'https://commons.wikimedia.org/w/api.php';\n    const params = new URLSearchParams({\n      action: 'query',\n      format: 'json',\n      origin: '*',\n      list: 'search',\n      srnamespace: '14', // Category namespace\n      srsearch: searchQuery,\n      srlimit: '10',\n      srprop: 'size|wordcount|timestamp',\n      formatversion: '2'\n    });\n    \n    const response = await fetch(`${apiUrl}?${params}`);\n    \n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    \n    const data = await response.json();\n    \n    if (data.error) {\n      throw new Error(data.error.info || 'API Error');\n    }\n    \n    // Get category info for the results\n    if (data.query && data.query.search && data.query.search.length > 0) {\n      const categoryTitles = data.query.search.map(item => item.title);\n      await getCategoryInfo(categoryTitles);\n    } else {\n      categorySuggestions.value = [];\n      showSuggestions.value = false;\n    }\n    \n  } catch (error) {\n    console.error('Category search error:', error);\n    categorySearchError.value = `Failed to search categories: ${error.message}`;\n    categorySuggestions.value = [];\n    showSuggestions.value = false;\n  } finally {\n    searchingCategories.value = false;\n  }\n};\n\nconst getCategoryInfo = async (categoryTitles) => {\n  try {\n    const apiUrl = 'https://commons.wikimedia.org/w/api.php';\n    const params = new URLSearchParams({\n      action: 'query',\n      format: 'json',\n      origin: '*',\n      titles: categoryTitles.join('|'),\n      prop: 'categoryinfo',\n      formatversion: '2'\n    });\n    \n    const response = await fetch(`${apiUrl}?${params}`);\n    const data = await response.json();\n    \n    if (data.query && data.query.pages) {\n      categorySuggestions.value = data.query.pages.filter(page => !page.missing);\n      showSuggestions.value = categorySuggestions.value.length > 0;\n      selectedSuggestionIndex.value = -1;\n    }\n  } catch (error) {\n    console.error('Category info error:', error);\n  }\n};\n\nconst navigateSuggestion = (direction) => {\n  if (!showSuggestions.value || categorySuggestions.value.length === 0) return;\n  \n  selectedSuggestionIndex.value += direction;\n  \n  if (selectedSuggestionIndex.value < -1) {\n    selectedSuggestionIndex.value = categorySuggestions.value.length - 1;\n  } else if (selectedSuggestionIndex.value >= categorySuggestions.value.length) {\n    selectedSuggestionIndex.value = -1;\n  }\n};\n\nconst selectCurrentSuggestion = () => {\n  if (selectedSuggestionIndex.value >= 0 && selectedSuggestionIndex.value < categorySuggestions.value.length) {\n    selectSuggestion(categorySuggestions.value[selectedSuggestionIndex.value]);\n  } else if (customCategoryQuery.value.trim()) {\n    analyzeCustomCategory();\n  }\n};\n\nconst selectSuggestion = (suggestion) => {\n  customCategoryQuery.value = suggestion.title;\n  showSuggestions.value = false;\n  categorySuggestions.value = [];\n  selectedSuggestionIndex.value = -1;\n  \n  nextTick(() => {\n    if (categoryInput.value) {\n      categoryInput.value.focus();\n    }\n  });\n};\n\nconst hideSuggestions = () => {\n  showSuggestions.value = false;\n  selectedSuggestionIndex.value = -1;\n};\n\nconst analyzeCustomCategory = () => {\n  const query = customCategoryQuery.value.trim();\n  if (!query) return;\n  \n  // Normalize the category name (remove Category: prefix, use underscores)\n  const normalizedName = normalizeCategoryName(query);\n  \n  // Create a custom category object\n  const customCategory = {\n    id: `custom-${Date.now()}`,\n    name: normalizedName,\n    slug: normalizedName,\n    categoryName: normalizedName,\n    description: `Custom analysis for ${query.replace(/^Category:/i, '')}`,\n    icon: 'ðŸ”',\n    year: 'Custom',\n    color1: '#8B5CF6',\n    color2: '#7C3AED',\n    isCustom: true\n  };\n  console.log('Creating custom category:', customCategory);\n  \n  hideSuggestions();\n  emit('custom', customCategory);\n};\n\n// Handle click outside to hide suggestions\nconst handleClickOutside = (event) => {\n  if (!event.target.closest('.relative')) {\n    hideSuggestions();\n  }\n};\n\n// Add event listener when component mounts\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside);\n});\n\n// Remove event listener when component unmounts\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside);\n  if (searchTimeout) {\n    clearTimeout(searchTimeout);\n  }\n});\n</script>\n\n<style scoped>\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>","<template>\n  <div class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 mb-8\">\n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-600 text-md\">Contributors</p>\n          <p class=\"text-3xl font-bold text-blue-600\">{{ stats.uniqueUsers }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"></path>\n        </svg>\n      </div>\n    </div>\n    \n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-500 text-sm\">Total Files</p>\n          <p class=\"text-3xl font-bold text-green-600\">{{ stats.totalFiles }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n        </svg>\n      </div>\n    </div>\n    \n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-500 text-sm\">Active Days</p>\n          <p class=\"text-3xl font-bold text-purple-600\">{{ stats.uniqueDates }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n        </svg>\n      </div>\n    </div>\n    \n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-500 text-sm\">Total Size</p>\n          <p class=\"text-2xl font-bold text-orange-600\">{{ formatBytes(stats.totalSize) }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-orange-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01\"></path>\n        </svg>\n      </div>\n    </div>\n    \n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-500 text-sm\">Avg File Size</p>\n          <p class=\"text-2xl font-bold text-pink-600\">{{ formatBytes(stats.avgFileSize) }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-pink-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"></path>\n        </svg>\n      </div>\n    </div>\n    \n    <div class=\"bg-white rounded-lg shadow p-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-gray-500 text-sm\">Geotagged</p>\n          <p class=\"text-3xl font-bold text-cyan-600\">{{ stats.geotaggedFiles }}</p>\n        </div>\n        <svg class=\"w-10 h-10 text-cyan-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefineProps({\n  stats: {\n    type: Object,\n    required: true\n  }\n});\n\nconst formatBytes = (bytes) => {\n  if (!bytes || bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n};\n</script>","/*\n * Leaflet.markercluster 1.5.3+master.e5124b2,\n * Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\n * https://github.com/Leaflet/Leaflet.markercluster\n * (c) 2012-2017, Dave Leaver, smartrak\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory((global.Leaflet = global.Leaflet || {}, global.Leaflet.markercluster = {})));\n}(this, function (exports) { 'use strict';\n\n\t/*\n\t * L.MarkerClusterGroup extends L.FeatureGroup by clustering the markers contained within\n\t */\n\n\tvar MarkerClusterGroup = L.MarkerClusterGroup = L.FeatureGroup.extend({\n\n\t\toptions: {\n\t\t\tmaxClusterRadius: 80, //A cluster will cover at most this many pixels from its center\n\t\t\ticonCreateFunction: null,\n\t\t\tclusterPane: L.Marker.prototype.options.pane,\n\n\t\t\tspiderfyOnEveryZoom: false,\n\t\t\tspiderfyOnMaxZoom: true,\n\t\t\tshowCoverageOnHover: true,\n\t\t\tzoomToBoundsOnClick: true,\n\t\t\tsingleMarkerMode: false,\n\n\t\t\tdisableClusteringAtZoom: null,\n\n\t\t\t// Setting this to false prevents the removal of any clusters outside of the viewpoint, which\n\t\t\t// is the default behaviour for performance reasons.\n\t\t\tremoveOutsideVisibleBounds: true,\n\n\t\t\t// Set to false to disable all animations (zoom and spiderfy).\n\t\t\t// If false, option animateAddingMarkers below has no effect.\n\t\t\t// If L.DomUtil.TRANSITION is falsy, this option has no effect.\n\t\t\tanimate: true,\n\n\t\t\t//Whether to animate adding markers after adding the MarkerClusterGroup to the map\n\t\t\t// If you are adding individual markers set to true, if adding bulk markers leave false for massive performance gains.\n\t\t\tanimateAddingMarkers: false,\n\n\t\t\t// Make it possible to provide custom function to calculate spiderfy shape positions\n\t\t\tspiderfyShapePositions: null,\n\n\t\t\t//Increase to increase the distance away that spiderfied markers appear from the center\n\t\t\tspiderfyDistanceMultiplier: 1,\n\n\t\t\t// Make it possible to specify a polyline options on a spider leg\n\t\t\tspiderLegPolylineOptions: { weight: 1.5, color: '#222', opacity: 0.5 },\n\n\t\t\t// When bulk adding layers, adds markers in chunks. Means addLayers may not add all the layers in the call, others will be loaded during setTimeouts\n\t\t\tchunkedLoading: false,\n\t\t\tchunkInterval: 200, // process markers for a maximum of ~ n milliseconds (then trigger the chunkProgress callback)\n\t\t\tchunkDelay: 50, // at the end of each interval, give n milliseconds back to system/browser\n\t\t\tchunkProgress: null, // progress callback: function(processed, total, elapsed) (e.g. for a progress indicator)\n\n\t\t\t//Options to pass to the L.Polygon constructor\n\t\t\tpolygonOptions: {}\n\t\t},\n\n\t\tinitialize: function (options) {\n\t\t\tL.Util.setOptions(this, options);\n\t\t\tif (!this.options.iconCreateFunction) {\n\t\t\t\tthis.options.iconCreateFunction = this._defaultIconCreateFunction;\n\t\t\t}\n\n\t\t\tthis._featureGroup = L.featureGroup();\n\t\t\tthis._featureGroup.addEventParent(this);\n\n\t\t\tthis._nonPointGroup = L.featureGroup();\n\t\t\tthis._nonPointGroup.addEventParent(this);\n\n\t\t\tthis._inZoomAnimation = 0;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis._needsRemoving = []; //Markers removed while we aren't on the map need to be kept track of\n\t\t\t//The bounds of the currently shown area (from _getExpandedVisibleBounds) Updated on zoom/move\n\t\t\tthis._currentShownBounds = null;\n\n\t\t\tthis._queue = [];\n\n\t\t\tthis._childMarkerEventHandlers = {\n\t\t\t\t'dragstart': this._childMarkerDragStart,\n\t\t\t\t'move': this._childMarkerMoved,\n\t\t\t\t'dragend': this._childMarkerDragEnd,\n\t\t\t};\n\n\t\t\t// Hook the appropriate animation methods.\n\t\t\tvar animate = L.DomUtil.TRANSITION && this.options.animate;\n\t\t\tL.extend(this, animate ? this._withAnimation : this._noAnimation);\n\t\t\t// Remember which MarkerCluster class to instantiate (animated or not).\n\t\t\tthis._markerCluster = animate ? L.MarkerCluster : L.MarkerClusterNonAnimated;\n\t\t},\n\n\t\taddLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.addLayers([layer]);\n\t\t\t}\n\n\t\t\t//Don't cluster non point data\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.addLayer(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering.push(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\t//If we have already clustered we'll need to add this one to a cluster\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t}\n\n\t\t\tthis._addLayer(layer, this._maxZoom);\n\t\t\tthis.fire('layeradd', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Work out what is visible\n\t\t\tvar visibleLayer = layer,\n\t\t\t    currentZoom = this._zoom;\n\t\t\tif (layer.__parent) {\n\t\t\t\twhile (visibleLayer.__parent._zoom >= currentZoom) {\n\t\t\t\t\tvisibleLayer = visibleLayer.__parent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._currentShownBounds.contains(visibleLayer.getLatLng())) {\n\t\t\t\tif (this.options.animateAddingMarkers) {\n\t\t\t\t\tthis._animationAddLayer(layer, visibleLayer);\n\t\t\t\t} else {\n\t\t\t\t\tthis._animationAddLayerNonAnimated(layer, visibleLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tremoveLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.removeLayers([layer]);\n\t\t\t}\n\n\t\t\t//Non point layers\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.removeLayer(layer);\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tif (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer)) {\n\t\t\t\t\tthis._needsRemoving.push({ layer: layer, latlng: layer._latlng });\n\t\t\t\t}\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!layer.__parent) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t\tthis._unspiderfyLayer(layer);\n\t\t\t}\n\n\t\t\t//Remove the marker from clusters\n\t\t\tthis._removeLayer(layer, true);\n\t\t\tthis.fire('layerremove', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\tlayer.off(this._childMarkerEventHandlers, this);\n\n\t\t\tif (this._featureGroup.hasLayer(layer)) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and adds them in bulk\n\t\taddLayers: function (layersArray, skipLayerAddEvent) {\n\t\t\tif (!L.Util.isArray(layersArray)) {\n\t\t\t\treturn this.addLayer(layersArray);\n\t\t\t}\n\n\t\t\tvar fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    chunked = this.options.chunkedLoading,\n\t\t\t    chunkInterval = this.options.chunkInterval,\n\t\t\t    chunkProgress = this.options.chunkProgress,\n\t\t\t    l = layersArray.length,\n\t\t\t    offset = 0,\n\t\t\t    originalArray = true,\n\t\t\t    m;\n\n\t\t\tif (this._map) {\n\t\t\t\tvar started = (new Date()).getTime();\n\t\t\t\tvar process = L.bind(function () {\n\t\t\t\t\tvar start = (new Date()).getTime();\n\n\t\t\t\t\t// Make sure to unspiderfy before starting to add some layers\n\t\t\t\t\tif (this._map && this._unspiderfy) {\n\t\t\t\t\t\tthis._unspiderfy();\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\t\tif (chunked && offset % 200 === 0) {\n\t\t\t\t\t\t\t// every couple hundred markers, instrument the time elapsed since processing started:\n\t\t\t\t\t\t\tvar elapsed = (new Date()).getTime() - start;\n\t\t\t\t\t\t\tif (elapsed > chunkInterval) {\n\t\t\t\t\t\t\t\tbreak; // been working too hard, time to take a break :-)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\t\t// Side effects:\n\t\t\t\t\t\t// - Total increases, so chunkProgress ratio jumps backward.\n\t\t\t\t\t\t// - Groups are not included in this group, only their non-group child layers (hasLayer).\n\t\t\t\t\t\t// Changing array length while looping does not affect performance in current browsers:\n\t\t\t\t\t\t// http://jsperf.com/for-loop-changing-length/6\n\t\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._addLayer(m, this._maxZoom);\n\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//If we just made a cluster of size 2 then we need to remove the other marker from the map (if it is) or we never will\n\t\t\t\t\t\tif (m.__parent) {\n\t\t\t\t\t\t\tif (m.__parent.getChildCount() === 2) {\n\t\t\t\t\t\t\t\tvar markers = m.__parent.getAllChildMarkers(),\n\t\t\t\t\t\t\t\t    otherMarker = markers[0] === m ? markers[1] : markers[0];\n\t\t\t\t\t\t\t\tfg.removeLayer(otherMarker);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunkProgress) {\n\t\t\t\t\t\t// report progress and time elapsed:\n\t\t\t\t\t\tchunkProgress(offset, l, (new Date()).getTime() - started);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Completed processing all markers.\n\t\t\t\t\tif (offset === l) {\n\n\t\t\t\t\t\t// Refresh bounds and weighted positions.\n\t\t\t\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\t\t\t\tthis._refreshClustersIcons();\n\n\t\t\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(process, this.options.chunkDelay);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tprocess();\n\t\t\t} else {\n\t\t\t\tvar needsClustering = this._needsClustering;\n\n\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsClustering.push(m);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and removes them in bulk\n\t\tremoveLayers: function (layersArray) {\n\t\t\tvar i, m,\n\t\t\t    l = layersArray.length,\n\t\t\t    fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    originalArray = true;\n\n\t\t\tif (!this._map) {\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tm = layersArray[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._arraySplice(this._needsClustering, m);\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tthis._needsRemoving.push({ layer: m, latlng: m._latlng });\n\t\t\t\t\t}\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\n\t\t\t\t// Work on a copy of the array, so that next loop is not affected.\n\t\t\t\tvar layersArray2 = layersArray.slice(),\n\t\t\t\t    l2 = l;\n\t\t\t\tfor (i = 0; i < l2; i++) {\n\t\t\t\t\tm = layersArray2[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray2);\n\t\t\t\t\t\tl2 = layersArray2.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._unspiderfyLayer(m);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\tm = layersArray[i];\n\n\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!m.__parent) {\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis._removeLayer(m, true, true);\n\t\t\t\tthis.fire('layerremove', { layer: m });\n\n\t\t\t\tif (fg.hasLayer(m)) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Fix up the clusters and markers on the map\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Removes all layers from the MarkerClusterGroup\n\t\tclearLayers: function () {\n\t\t\t//Need our own special implementation as the LayerGroup one doesn't work for us\n\n\t\t\t//If we aren't on the map (yet), blow away the markers we know of\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering = [];\n\t\t\t\tthis._needsRemoving = [];\n\t\t\t\tdelete this._gridClusters;\n\t\t\t\tdelete this._gridUnclustered;\n\t\t\t}\n\n\t\t\tif (this._noanimationUnspiderfy) {\n\t\t\t\tthis._noanimationUnspiderfy();\n\t\t\t}\n\n\t\t\t//Remove all the visible layers\n\t\t\tthis._featureGroup.clearLayers();\n\t\t\tthis._nonPointGroup.clearLayers();\n\n\t\t\tthis.eachLayer(function (marker) {\n\t\t\t\tmarker.off(this._childMarkerEventHandlers, this);\n\t\t\t\tdelete marker.__parent;\n\t\t\t}, this);\n\n\t\t\tif (this._map) {\n\t\t\t\t//Reset _topClusterLevel and the DistanceGrids\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Override FeatureGroup.getBounds as it doesn't work\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tbounds.extend(this._topClusterLevel._bounds);\n\t\t\t}\n\n\t\t\tfor (var i = this._needsClustering.length - 1; i >= 0; i--) {\n\t\t\t\tbounds.extend(this._needsClustering[i].getLatLng());\n\t\t\t}\n\n\t\t\tbounds.extend(this._nonPointGroup.getBounds());\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Overrides LayerGroup.eachLayer\n\t\teachLayer: function (method, context) {\n\t\t\tvar markers = this._needsClustering.slice(),\n\t\t\t\tneedsRemoving = this._needsRemoving,\n\t\t\t\tthisNeedsRemoving, i, j;\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tthis._topClusterLevel.getAllChildMarkers(markers);\n\t\t\t}\n\n\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\tthisNeedsRemoving = true;\n\n\t\t\t\tfor (j = needsRemoving.length - 1; j >= 0; j--) {\n\t\t\t\t\tif (needsRemoving[j].layer === markers[i]) {\n\t\t\t\t\t\tthisNeedsRemoving = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (thisNeedsRemoving) {\n\t\t\t\t\tmethod.call(context, markers[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._nonPointGroup.eachLayer(method, context);\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayers\n\t\tgetLayers: function () {\n\t\t\tvar layers = [];\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tlayers.push(l);\n\t\t\t});\n\t\t\treturn layers;\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayer, WARNING: Really bad performance\n\t\tgetLayer: function (id) {\n\t\t\tvar result = null;\n\n\t\t\tid = parseInt(id, 10);\n\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tif (L.stamp(l) === id) {\n\t\t\t\t\tresult = l;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\t//Returns true if the given layer is in this MarkerClusterGroup\n\t\thasLayer: function (layer) {\n\t\t\tif (!layer) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i, anArray = this._needsClustering;\n\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === layer) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanArray = this._needsRemoving;\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i].layer === layer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!(layer.__parent && layer.__parent._group === this) || this._nonPointGroup.hasLayer(layer);\n\t\t},\n\n\t\t//Zoom down to show the given layer (spiderfying if necessary) then calls the callback\n\t\tzoomToShowLayer: function (layer, callback) {\n\n\t\t\tvar map = this._map;\n\n\t\t\tif (typeof callback !== 'function') {\n\t\t\t\tcallback = function () {};\n\t\t\t}\n\n\t\t\tvar showMarker = function () {\n\t\t\t\t// Assumes that map.hasLayer checks for direct appearance on map, not recursively calling\n\t\t\t\t// hasLayer on Layer Groups that are on map (typically not calling this MarkerClusterGroup.hasLayer, which would always return true)\n\t\t\t\tif ((map.hasLayer(layer) || map.hasLayer(layer.__parent)) && !this._inZoomAnimation) {\n\t\t\t\t\tthis._map.off('moveend', showMarker, this);\n\t\t\t\t\tthis.off('animationend', showMarker, this);\n\n\t\t\t\t\tif (map.hasLayer(layer)) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if (layer.__parent._icon) {\n\t\t\t\t\t\tthis.once('spiderfied', callback, this);\n\t\t\t\t\t\tlayer.__parent.spiderfy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (layer._icon && this._map.getBounds().contains(layer.getLatLng())) {\n\t\t\t\t//Layer is visible ond on screen, immediate return\n\t\t\t\tcallback();\n\t\t\t} else if (layer.__parent._zoom < Math.round(this._map._zoom)) {\n\t\t\t\t//Layer should be visible at this zoom level. It must not be on screen so just pan over to it\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis._map.panTo(layer.getLatLng());\n\t\t\t} else {\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis.on('animationend', showMarker, this);\n\t\t\t\tlayer.__parent.zoomToBounds();\n\t\t\t}\n\t\t},\n\n\t\t//Overrides FeatureGroup.onAdd\n\t\tonAdd: function (map) {\n\t\t\tthis._map = map;\n\t\t\tvar i, l, layer;\n\n\t\t\tif (!isFinite(this._map.getMaxZoom())) {\n\t\t\t\tthrow \"Map has no maxZoom specified\";\n\t\t\t}\n\n\t\t\tthis._featureGroup.addTo(map);\n\t\t\tthis._nonPointGroup.addTo(map);\n\n\t\t\tif (!this._gridClusters) {\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\tthis._maxLat = map.options.crs.projection.MAX_LATITUDE;\n\n\t\t\t//Restore all the positions as they are in the MCG before removing them\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tlayer.newlatlng = layer.layer._latlng;\n\t\t\t\tlayer.layer._latlng = layer.latlng;\n\t\t\t}\n\t\t\t//Remove them, then restore their new positions\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tthis._removeLayer(layer.layer, true);\n\t\t\t\tlayer.layer._latlng = layer.newlatlng;\n\t\t\t}\n\t\t\tthis._needsRemoving = [];\n\n\t\t\t//Remember the current zoom level and bounds\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._map.on('zoomend', this._zoomEnd, this);\n\t\t\tthis._map.on('moveend', this._moveEnd, this);\n\n\t\t\tif (this._spiderfierOnAdd) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnAdd();\n\t\t\t}\n\n\t\t\tthis._bindEvents();\n\n\t\t\t//Actually add our markers to the map:\n\t\t\tl = this._needsClustering;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis.addLayers(l, true);\n\t\t},\n\n\t\t//Overrides FeatureGroup.onRemove\n\t\tonRemove: function (map) {\n\t\t\tmap.off('zoomend', this._zoomEnd, this);\n\t\t\tmap.off('moveend', this._moveEnd, this);\n\n\t\t\tthis._unbindEvents();\n\n\t\t\t//In case we are in a cluster animation\n\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\n\t\t\tif (this._spiderfierOnRemove) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnRemove();\n\t\t\t}\n\n\t\t\tdelete this._maxLat;\n\n\t\t\t//Clean up all the layers we added to the map\n\t\t\tthis._hideCoverage();\n\t\t\tthis._featureGroup.remove();\n\t\t\tthis._nonPointGroup.remove();\n\n\t\t\tthis._featureGroup.clearLayers();\n\n\t\t\tthis._map = null;\n\t\t},\n\n\t\tgetVisibleParent: function (marker) {\n\t\t\tvar vMarker = marker;\n\t\t\twhile (vMarker && !vMarker._icon) {\n\t\t\t\tvMarker = vMarker.__parent;\n\t\t\t}\n\t\t\treturn vMarker || null;\n\t\t},\n\n\t\t//Remove the given object from the given array\n\t\t_arraySplice: function (anArray, obj) {\n\t\t\tfor (var i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === obj) {\n\t\t\t\t\tanArray.splice(i, 1);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes a marker from all _gridUnclustered zoom levels, starting at the supplied zoom.\n\t\t * @param marker to be removed from _gridUnclustered.\n\t\t * @param z integer bottom start zoom level (included)\n\t\t * @private\n\t\t */\n\t\t_removeFromGridUnclustered: function (marker, z) {\n\t\t\tvar map = this._map,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\tfor (; z >= minZoom; z--) {\n\t\t\t\tif (!gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_childMarkerDragStart: function (e) {\n\t\t\te.target.__dragStart = e.target._latlng;\n\t\t},\n\n\t\t_childMarkerMoved: function (e) {\n\t\t\tif (!this._ignoreMove && !e.target.__dragStart) {\n\t\t\t\tvar isPopupOpen = e.target._popup && e.target._popup.isOpen();\n\n\t\t\t\tthis._moveChild(e.target, e.oldLatLng, e.latlng);\n\n\t\t\t\tif (isPopupOpen) {\n\t\t\t\t\te.target.openPopup();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_moveChild: function (layer, from, to) {\n\t\t\tlayer._latlng = from;\n\t\t\tthis.removeLayer(layer);\n\n\t\t\tlayer._latlng = to;\n\t\t\tthis.addLayer(layer);\n\t\t},\n\n\t\t_childMarkerDragEnd: function (e) {\n\t\t\tvar dragStart = e.target.__dragStart;\n\t\t\tdelete e.target.__dragStart;\n\t\t\tif (dragStart) {\n\t\t\t\tthis._moveChild(e.target, dragStart, e.target._latlng);\n\t\t\t}\t\t\n\t\t},\n\n\n\t\t//Internal function for removing a marker from everything.\n\t\t//dontUpdateMap: set to true if you will handle updating the map manually (for bulk functions)\n\t\t_removeLayer: function (marker, removeFromDistanceGrid, dontUpdateMap) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t\tgridUnclustered = this._gridUnclustered,\n\t\t\t\tfg = this._featureGroup,\n\t\t\t\tmap = this._map,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Remove the marker from distance clusters it might be in\n\t\t\tif (removeFromDistanceGrid) {\n\t\t\t\tthis._removeFromGridUnclustered(marker, this._maxZoom);\n\t\t\t}\n\n\t\t\t//Work our way up the clusters removing them as we go if required\n\t\t\tvar cluster = marker.__parent,\n\t\t\t\tmarkers = cluster._markers,\n\t\t\t\totherMarker;\n\n\t\t\t//Remove the marker from the immediate parents marker list\n\t\t\tthis._arraySplice(markers, marker);\n\n\t\t\twhile (cluster) {\n\t\t\t\tcluster._childCount--;\n\t\t\t\tcluster._boundsNeedUpdate = true;\n\n\t\t\t\tif (cluster._zoom < minZoom) {\n\t\t\t\t\t//Top level, do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (removeFromDistanceGrid && cluster._childCount <= 1) { //Cluster no longer required\n\t\t\t\t\t//We need to push the other marker up to the parent\n\t\t\t\t\totherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0];\n\n\t\t\t\t\t//Update distance grid\n\t\t\t\t\tgridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom));\n\t\t\t\t\tgridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom));\n\n\t\t\t\t\t//Move otherMarker up to parent\n\t\t\t\t\tthis._arraySplice(cluster.__parent._childClusters, cluster);\n\t\t\t\t\tcluster.__parent._markers.push(otherMarker);\n\t\t\t\t\totherMarker.__parent = cluster.__parent;\n\n\t\t\t\t\tif (cluster._icon) {\n\t\t\t\t\t\t//Cluster is currently on the map, need to put the marker on the map instead\n\t\t\t\t\t\tfg.removeLayer(cluster);\n\t\t\t\t\t\tif (!dontUpdateMap) {\n\t\t\t\t\t\t\tfg.addLayer(otherMarker);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._iconNeedsUpdate = true;\n\t\t\t\t}\n\n\t\t\t\tcluster = cluster.__parent;\n\t\t\t}\n\n\t\t\tdelete marker.__parent;\n\t\t},\n\n\t\t_isOrIsParent: function (el, oel) {\n\t\t\twhile (oel) {\n\t\t\t\tif (el === oel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\toel = oel.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t//Override L.Evented.fire\n\t\tfire: function (type, data, propagate) {\n\t\t\tif (data && data.layer instanceof L.MarkerCluster) {\n\t\t\t\t//Prevent multiple clustermouseover/off events if the icon is made up of stacked divs (Doesn't work in ie <= 8, no relatedTarget)\n\t\t\t\tif (data.originalEvent && this._isOrIsParent(data.layer._icon, data.originalEvent.relatedTarget)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttype = 'cluster' + type;\n\t\t\t}\n\n\t\t\tL.FeatureGroup.prototype.fire.call(this, type, data, propagate);\n\t\t},\n\n\t\t//Override L.Evented.listens\n\t\tlistens: function (type, propagate) {\n\t\t\treturn L.FeatureGroup.prototype.listens.call(this, type, propagate) || L.FeatureGroup.prototype.listens.call(this, 'cluster' + type, propagate);\n\t\t},\n\n\t\t//Default functionality\n\t\t_defaultIconCreateFunction: function (cluster) {\n\t\t\tvar childCount = cluster.getChildCount();\n\n\t\t\tvar c = ' marker-cluster-';\n\t\t\tif (childCount < 10) {\n\t\t\t\tc += 'small';\n\t\t\t} else if (childCount < 100) {\n\t\t\t\tc += 'medium';\n\t\t\t} else {\n\t\t\t\tc += 'large';\n\t\t\t}\n\n\t\t\treturn new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', className: 'marker-cluster' + c, iconSize: new L.Point(40, 40) });\n\t\t},\n\n\t\t_bindEvents: function () {\n\t\t\tvar map = this._map,\n\t\t\t    spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t    showCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t    zoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t    spiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom;\n\n\t\t\t//Zoom on cluster click or spiderfy if we are at the lowest level\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.on('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\n\t\t\t//Show convex hull (boundary) polygon on mouse over\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.on('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.on('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.on('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomOrSpiderfy: function (e) {\n\t\t\tvar cluster = e.layer,\n\t\t\t    bottomCluster = cluster;\n\n\t\t\tif (e.type === 'clusterkeypress' && e.originalEvent && e.originalEvent.keyCode !== 13) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twhile (bottomCluster._childClusters.length === 1) {\n\t\t\t\tbottomCluster = bottomCluster._childClusters[0];\n\t\t\t}\n\n\t\t\tif (bottomCluster._zoom === this._maxZoom &&\n\t\t\t\tbottomCluster._childCount === cluster._childCount &&\n\t\t\t\tthis.options.spiderfyOnMaxZoom) {\n\n\t\t\t\t// All child markers are contained in a single cluster from this._maxZoom to this cluster.\n\t\t\t\tcluster.spiderfy();\n\t\t\t} else if (this.options.zoomToBoundsOnClick) {\n\t\t\t\tcluster.zoomToBounds();\n\t\t\t}\n\n\t\t\tif (this.options.spiderfyOnEveryZoom) {\n\t\t\t\tcluster.spiderfy();\n\t\t\t}\n\n\t\t\t// Focus the map again for keyboard users.\n\t\t\tif (e.originalEvent && e.originalEvent.keyCode === 13) {\n\t\t\t\tthis._map._container.focus();\n\t\t\t}\n\t\t},\n\n\t\t_showCoverage: function (e) {\n\t\t\tvar map = this._map;\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tmap.removeLayer(this._shownPolygon);\n\t\t\t}\n\t\t\tif (e.layer.getChildCount() > 2 && e.layer !== this._spiderfied) {\n\t\t\t\tthis._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions);\n\t\t\t\tmap.addLayer(this._shownPolygon);\n\t\t\t}\n\t\t},\n\n\t\t_hideCoverage: function () {\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tthis._map.removeLayer(this._shownPolygon);\n\t\t\t\tthis._shownPolygon = null;\n\t\t\t}\n\t\t},\n\n\t\t_unbindEvents: function () {\n\t\t\tvar spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t\tshowCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t\tzoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t\tspiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom,\n\t\t\t\tmap = this._map;\n\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.off('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.off('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.off('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.off('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomEnd: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._mergeSplitClusters();\n\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\t\t},\n\n\t\t_moveEnd: function () {\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, newBounds);\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, Math.round(this._map._zoom), newBounds);\n\n\t\t\tthis._currentShownBounds = newBounds;\n\t\t\treturn;\n\t\t},\n\n\t\t_generateInitialClusters: function () {\n\t\t\tvar maxZoom = Math.ceil(this._map.getMaxZoom()),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\tradius = this.options.maxClusterRadius,\n\t\t\t\tradiusFn = radius;\n\n\t\t\t//If we just set maxClusterRadius to a single number, we need to create\n\t\t\t//a simple function to return that number. Otherwise, we just have to\n\t\t\t//use the function we've passed in.\n\t\t\tif (typeof radius !== \"function\") {\n\t\t\t\tradiusFn = function () { return radius; };\n\t\t\t}\n\n\t\t\tif (this.options.disableClusteringAtZoom !== null) {\n\t\t\t\tmaxZoom = this.options.disableClusteringAtZoom - 1;\n\t\t\t}\n\t\t\tthis._maxZoom = maxZoom;\n\t\t\tthis._gridClusters = {};\n\t\t\tthis._gridUnclustered = {};\n\n\t\t\t//Set up DistanceGrids for each zoom\n\t\t\tfor (var zoom = maxZoom; zoom >= minZoom; zoom--) {\n\t\t\t\tthis._gridClusters[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t\tthis._gridUnclustered[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t}\n\n\t\t\t// Instantiate the appropriate L.MarkerCluster class (animated or not).\n\t\t\tthis._topClusterLevel = new this._markerCluster(this, minZoom - 1);\n\t\t},\n\n\t\t//Zoom: Zoom to start adding at (Pass this._maxZoom to start at the bottom)\n\t\t_addLayer: function (layer, zoom) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t    markerPoint, z;\n\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._overrideMarkerIcon(layer);\n\t\t\t}\n\n\t\t\tlayer.on(this._childMarkerEventHandlers, this);\n\n\t\t\t//Find the lowest zoom level to slot this one in\n\t\t\tfor (; zoom >= minZoom; zoom--) {\n\t\t\t\tmarkerPoint = this._map.project(layer.getLatLng(), zoom); // calculate pixel position\n\n\t\t\t\t//Try find a cluster close by\n\t\t\t\tvar closest = gridClusters[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tclosest._addChild(layer);\n\t\t\t\t\tlayer.__parent = closest;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Try find a marker close by to form a new cluster with\n\t\t\t\tclosest = gridUnclustered[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tvar parent = closest.__parent;\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tthis._removeLayer(closest, false);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Create new cluster with these 2 in it\n\n\t\t\t\t\tvar newCluster = new this._markerCluster(this, zoom, closest, layer);\n\t\t\t\t\tgridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom));\n\t\t\t\t\tclosest.__parent = newCluster;\n\t\t\t\t\tlayer.__parent = newCluster;\n\n\t\t\t\t\t//First create any new intermediate parent clusters that don't exist\n\t\t\t\t\tvar lastParent = newCluster;\n\t\t\t\t\tfor (z = zoom - 1; z > parent._zoom; z--) {\n\t\t\t\t\t\tlastParent = new this._markerCluster(this, z, lastParent);\n\t\t\t\t\t\tgridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));\n\t\t\t\t\t}\n\t\t\t\t\tparent._addChild(lastParent);\n\n\t\t\t\t\t//Remove closest from this zoom level and any above that it is in, replace with newCluster\n\t\t\t\t\tthis._removeFromGridUnclustered(closest, zoom);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Didn't manage to cluster in at this zoom, record us as a marker here and continue upwards\n\t\t\t\tgridUnclustered[zoom].addObject(layer, markerPoint);\n\t\t\t}\n\n\t\t\t//Didn't get in anything, add us to the top\n\t\t\tthis._topClusterLevel._addChild(layer);\n\t\t\tlayer.__parent = this._topClusterLevel;\n\t\t\treturn;\n\t\t},\n\n\t\t/**\n\t\t * Refreshes the icon of all \"dirty\" visible clusters.\n\t\t * Non-visible \"dirty\" clusters will be updated when they are added to the map.\n\t\t * @private\n\t\t */\n\t\t_refreshClustersIcons: function () {\n\t\t\tthis._featureGroup.eachLayer(function (c) {\n\t\t\t\tif (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\n\t\t\t\t\tc._updateIcon();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//Enqueue code to fire after the marker expand/contract has happened\n\t\t_enqueue: function (fn) {\n\t\t\tthis._queue.push(fn);\n\t\t\tif (!this._queueTimeout) {\n\t\t\t\tthis._queueTimeout = setTimeout(L.bind(this._processQueue, this), 300);\n\t\t\t}\n\t\t},\n\t\t_processQueue: function () {\n\t\t\tfor (var i = 0; i < this._queue.length; i++) {\n\t\t\t\tthis._queue[i].call(this);\n\t\t\t}\n\t\t\tthis._queue.length = 0;\n\t\t\tclearTimeout(this._queueTimeout);\n\t\t\tthis._queueTimeout = null;\n\t\t},\n\n\t\t//Merge and split any existing clusters that are too big or small\n\t\t_mergeSplitClusters: function () {\n\t\t\tvar mapZoom = Math.round(this._map._zoom);\n\n\t\t\t//In case we are starting to split before the animation finished\n\t\t\tthis._processQueue();\n\n\t\t\tif (this._zoom < mapZoom && this._currentShownBounds.intersects(this._getExpandedVisibleBounds())) { //Zoom in, split\n\t\t\t\tthis._animationStart();\n\t\t\t\t//Remove clusters now off screen\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, this._getExpandedVisibleBounds());\n\n\t\t\t\tthis._animationZoomIn(this._zoom, mapZoom);\n\n\t\t\t} else if (this._zoom > mapZoom) { //Zoom out, merge\n\t\t\t\tthis._animationStart();\n\n\t\t\t\tthis._animationZoomOut(this._zoom, mapZoom);\n\t\t\t} else {\n\t\t\t\tthis._moveEnd();\n\t\t\t}\n\t\t},\n\n\t\t//Gets the maps visible bounds expanded in each direction by the size of the screen (so the user cannot see an area we do not cover in one pan)\n\t\t_getExpandedVisibleBounds: function () {\n\t\t\tif (!this.options.removeOutsideVisibleBounds) {\n\t\t\t\treturn this._mapBoundsInfinite;\n\t\t\t} else if (L.Browser.mobile) {\n\t\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds());\n\t\t\t}\n\n\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds().pad(1)); // Padding expands the bounds by its own dimensions but scaled with the given factor.\n\t\t},\n\n\t\t/**\n\t\t * Expands the latitude to Infinity (or -Infinity) if the input bounds reach the map projection maximum defined latitude\n\t\t * (in the case of Web/Spherical Mercator, it is 85.0511287798 / see https://en.wikipedia.org/wiki/Web_Mercator#Formulas).\n\t\t * Otherwise, the removeOutsideVisibleBounds option will remove markers beyond that limit, whereas the same markers without\n\t\t * this option (or outside MCG) will have their position floored (ceiled) by the projection and rendered at that limit,\n\t\t * making the user think that MCG \"eats\" them and never displays them again.\n\t\t * @param bounds L.LatLngBounds\n\t\t * @returns {L.LatLngBounds}\n\t\t * @private\n\t\t */\n\t\t_checkBoundsMaxLat: function (bounds) {\n\t\t\tvar maxLat = this._maxLat;\n\n\t\t\tif (maxLat !== undefined) {\n\t\t\t\tif (bounds.getNorth() >= maxLat) {\n\t\t\t\t\tbounds._northEast.lat = Infinity;\n\t\t\t\t}\n\t\t\t\tif (bounds.getSouth() <= -maxLat) {\n\t\t\t\t\tbounds._southWest.lat = -Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Shared animation code\n\t\t_animationAddLayerNonAnimated: function (layer, newCluster) {\n\t\t\tif (newCluster === layer) {\n\t\t\t\tthis._featureGroup.addLayer(layer);\n\t\t\t} else if (newCluster._childCount === 2) {\n\t\t\t\tnewCluster._addToMap();\n\n\t\t\t\tvar markers = newCluster.getAllChildMarkers();\n\t\t\t\tthis._featureGroup.removeLayer(markers[0]);\n\t\t\t\tthis._featureGroup.removeLayer(markers[1]);\n\t\t\t} else {\n\t\t\t\tnewCluster._updateIcon();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Extracts individual (i.e. non-group) layers from a Layer Group.\n\t\t * @param group to extract layers from.\n\t\t * @param output {Array} in which to store the extracted layers.\n\t\t * @returns {*|Array}\n\t\t * @private\n\t\t */\n\t\t_extractNonGroupLayers: function (group, output) {\n\t\t\tvar layers = group.getLayers(),\n\t\t\t    i = 0,\n\t\t\t    layer;\n\n\t\t\toutput = output || [];\n\n\t\t\tfor (; i < layers.length; i++) {\n\t\t\t\tlayer = layers[i];\n\n\t\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\t\tthis._extractNonGroupLayers(layer, output);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\toutput.push(layer);\n\t\t\t}\n\n\t\t\treturn output;\n\t\t},\n\n\t\t/**\n\t\t * Implements the singleMarkerMode option.\n\t\t * @param layer Marker to re-style using the Clusters iconCreateFunction.\n\t\t * @returns {L.Icon} The newly created icon.\n\t\t * @private\n\t\t */\n\t\t_overrideMarkerIcon: function (layer) {\n\t\t\tvar icon = layer.options.icon = this.options.iconCreateFunction({\n\t\t\t\tgetChildCount: function () {\n\t\t\t\t\treturn 1;\n\t\t\t\t},\n\t\t\t\tgetAllChildMarkers: function () {\n\t\t\t\t\treturn [layer];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn icon;\n\t\t}\n\t});\n\n\t// Constant bounds used in case option \"removeOutsideVisibleBounds\" is set to false.\n\tL.MarkerClusterGroup.include({\n\t\t_mapBoundsInfinite: new L.LatLngBounds(new L.LatLng(-Infinity, -Infinity), new L.LatLng(Infinity, Infinity))\n\t});\n\n\tL.MarkerClusterGroup.include({\n\t\t_noAnimation: {\n\t\t\t//Non Animated versions of everything\n\t\t\t_animationStart: function () {\n\t\t\t\t//Do nothing...\n\t\t\t},\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tthis._animationAddLayerNonAnimated(layer, newCluster);\n\t\t\t}\n\t\t},\n\n\t\t_withAnimation: {\n\t\t\t//Animated versions here\n\t\t\t_animationStart: function () {\n\t\t\t\tthis._map._mapPane.className += ' leaflet-cluster-anim';\n\t\t\t\tthis._inZoomAnimation++;\n\t\t\t},\n\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\t    fg = this._featureGroup,\n\t\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\t    i;\n\n\t\t\t\tthis._ignoreMove = true;\n\n\t\t\t\t//Add all children of current clusters to map and remove those clusters from map\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\tvar startPos = c._latlng,\n\t\t\t\t\t    markers  = c._markers,\n\t\t\t\t\t    m;\n\n\t\t\t\t\tif (!bounds.contains(startPos)) {\n\t\t\t\t\t\tstartPos = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel) { //Immediately add the new child and remove us\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(null, newZoomLevel, bounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Fade out old cluster\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Remove all markers that aren't visible any more\n\t\t\t\t\t//TODO: Do we actually need to do this on the higher levels too?\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\t\t\t\t\t\tif (!bounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis._forceLayout();\n\n\t\t\t\t//Update opacities\n\t\t\t\tthis._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel);\n\t\t\t\t//TODO Maybe? Update markers in _recursivelyBecomeVisible\n\t\t\t\tfg.eachLayer(function (n) {\n\t\t\t\t\tif (!(n instanceof L.MarkerCluster) && n._icon) {\n\t\t\t\t\t\tn.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function (c) {\n\t\t\t\t\tc._recursivelyRestoreChildPositions(newZoomLevel);\n\t\t\t\t});\n\n\t\t\t\tthis._ignoreMove = false;\n\n\t\t\t\t//Remove the old clusters and close the zoom animation\n\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t});\n\n\t\t\t\t\tthis._animationEnd();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel);\n\n\t\t\t\t//Need to add markers for those that weren't on the map before but are now\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t\t//Remove markers that were on the map before but won't be now\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t},\n\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tvar me = this,\n\t\t\t\t    fg = this._featureGroup;\n\n\t\t\t\tfg.addLayer(layer);\n\t\t\t\tif (newCluster !== layer) {\n\t\t\t\t\tif (newCluster._childCount > 2) { //Was already a cluster\n\n\t\t\t\t\t\tnewCluster._updateIcon();\n\t\t\t\t\t\tthis._forceLayout();\n\t\t\t\t\t\tthis._animationStart();\n\n\t\t\t\t\t\tlayer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng()));\n\t\t\t\t\t\tlayer.clusterHide();\n\n\t\t\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t\t\tfg.removeLayer(layer);\n\t\t\t\t\t\t\tlayer.clusterShow();\n\n\t\t\t\t\t\t\tme._animationEnd();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else { //Just became a cluster\n\t\t\t\t\t\tthis._forceLayout();\n\n\t\t\t\t\t\tme._animationStart();\n\t\t\t\t\t\tme._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._zoom);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Private methods for animated versions.\n\t\t_animationZoomOutSingle: function (cluster, previousZoomLevel, newZoomLevel) {\n\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Animate all of the markers in the clusters to move to their cluster center point\n\t\t\tcluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, minZoom, previousZoomLevel + 1, newZoomLevel);\n\n\t\t\tvar me = this;\n\n\t\t\t//Update the opacity (If we immediately set it they won't animate)\n\t\t\tthis._forceLayout();\n\t\t\tcluster._recursivelyBecomeVisible(bounds, newZoomLevel);\n\n\t\t\t//TODO: Maybe use the transition timing stuff to make this more reliable\n\t\t\t//When the animations are done, tidy up\n\t\t\tthis._enqueue(function () {\n\n\t\t\t\t//This cluster stopped being a cluster before the timeout fired\n\t\t\t\tif (cluster._childCount === 1) {\n\t\t\t\t\tvar m = cluster._markers[0];\n\t\t\t\t\t//If we were in a cluster animation at the time then the opacity and position of our child could be wrong now, so fix it\n\t\t\t\t\tthis._ignoreMove = true;\n\t\t\t\t\tm.setLatLng(m.getLatLng());\n\t\t\t\t\tthis._ignoreMove = false;\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._recursively(bounds, newZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, minZoom, previousZoomLevel + 1);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tme._animationEnd();\n\t\t\t});\n\t\t},\n\n\t\t_animationEnd: function () {\n\t\t\tif (this._map) {\n\t\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\t\t\t}\n\t\t\tthis._inZoomAnimation--;\n\t\t\tthis.fire('animationend');\n\t\t},\n\n\t\t//Force a browser layout of stuff in the map\n\t\t// Should apply the current opacity and location to all elements so we can update them again for an animation\n\t\t_forceLayout: function () {\n\t\t\t//In my testing this works, infact offsetWidth of any element seems to work.\n\t\t\t//Could loop all this._layers and do this for each _icon if it stops working\n\n\t\t\tL.Util.falseFn(document.body.offsetWidth);\n\t\t}\n\t});\n\n\tL.markerClusterGroup = function (options) {\n\t\treturn new L.MarkerClusterGroup(options);\n\t};\n\n\tvar MarkerCluster = L.MarkerCluster = L.Marker.extend({\n\t\toptions: L.Icon.prototype.options,\n\n\t\tinitialize: function (group, zoom, a, b) {\n\n\t\t\tL.Marker.prototype.initialize.call(this, a ? (a._cLatLng || a.getLatLng()) : new L.LatLng(0, 0),\n\t            { icon: this, pane: group.options.clusterPane });\n\n\t\t\tthis._group = group;\n\t\t\tthis._zoom = zoom;\n\n\t\t\tthis._markers = [];\n\t\t\tthis._childClusters = [];\n\t\t\tthis._childCount = 0;\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tthis._boundsNeedUpdate = true;\n\n\t\t\tthis._bounds = new L.LatLngBounds();\n\n\t\t\tif (a) {\n\t\t\t\tthis._addChild(a);\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis._addChild(b);\n\t\t\t}\n\t\t},\n\n\t\t//Recursively retrieve all child markers of this cluster\n\t\tgetAllChildMarkers: function (storageArray, ignoreDraggedMarker) {\n\t\t\tstorageArray = storageArray || [];\n\n\t\t\tfor (var i = this._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\tthis._childClusters[i].getAllChildMarkers(storageArray, ignoreDraggedMarker);\n\t\t\t}\n\n\t\t\tfor (var j = this._markers.length - 1; j >= 0; j--) {\n\t\t\t\tif (ignoreDraggedMarker && this._markers[j].__dragStart) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstorageArray.push(this._markers[j]);\n\t\t\t}\n\n\t\t\treturn storageArray;\n\t\t},\n\n\t\t//Returns the count of how many child markers we have\n\t\tgetChildCount: function () {\n\t\t\treturn this._childCount;\n\t\t},\n\n\t\t//Zoom to the minimum of showing all of the child markers, or the extents of this cluster\n\t\tzoomToBounds: function (fitBoundsOptions) {\n\t\t\tvar childClusters = this._childClusters.slice(),\n\t\t\t\tmap = this._group._map,\n\t\t\t\tboundsZoom = map.getBoundsZoom(this._bounds),\n\t\t\t\tzoom = this._zoom + 1,\n\t\t\t\tmapZoom = map.getZoom(),\n\t\t\t\ti;\n\n\t\t\t//calculate how far we need to zoom down to see all of the markers\n\t\t\twhile (childClusters.length > 0 && boundsZoom > zoom) {\n\t\t\t\tzoom++;\n\t\t\t\tvar newClusters = [];\n\t\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\t\tnewClusters = newClusters.concat(childClusters[i]._childClusters);\n\t\t\t\t}\n\t\t\t\tchildClusters = newClusters;\n\t\t\t}\n\n\t\t\tif (boundsZoom > zoom) {\n\t\t\t\tthis._group._map.setView(this._latlng, zoom);\n\t\t\t} else if (boundsZoom <= mapZoom) { //If fitBounds wouldn't zoom us down, zoom us down instead\n\t\t\t\tthis._group._map.setView(this._latlng, mapZoom + 1);\n\t\t\t} else {\n\t\t\t\tthis._group._map.fitBounds(this._bounds, fitBoundsOptions);\n\t\t\t}\n\t\t},\n\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\t\t\tbounds.extend(this._bounds);\n\t\t\treturn bounds;\n\t\t},\n\n\t\t_updateIcon: function () {\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tif (this._icon) {\n\t\t\t\tthis.setIcon(this);\n\t\t\t}\n\t\t},\n\n\t\t//Cludge for Icon, we pretend to be an icon for performance\n\t\tcreateIcon: function () {\n\t\t\tif (this._iconNeedsUpdate) {\n\t\t\t\tthis._iconObj = this._group.options.iconCreateFunction(this);\n\t\t\t\tthis._iconNeedsUpdate = false;\n\t\t\t}\n\t\t\treturn this._iconObj.createIcon();\n\t\t},\n\t\tcreateShadow: function () {\n\t\t\treturn this._iconObj.createShadow();\n\t\t},\n\n\n\t\t_addChild: function (new1, isNotificationFromChild) {\n\n\t\t\tthis._iconNeedsUpdate = true;\n\n\t\t\tthis._boundsNeedUpdate = true;\n\t\t\tthis._setClusterCenter(new1);\n\n\t\t\tif (new1 instanceof L.MarkerCluster) {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._childClusters.push(new1);\n\t\t\t\t\tnew1.__parent = this;\n\t\t\t\t}\n\t\t\t\tthis._childCount += new1._childCount;\n\t\t\t} else {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._markers.push(new1);\n\t\t\t\t}\n\t\t\t\tthis._childCount++;\n\t\t\t}\n\n\t\t\tif (this.__parent) {\n\t\t\t\tthis.__parent._addChild(new1, true);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Makes sure the cluster center is set. If not, uses the child center if it is a cluster, or the marker position.\n\t\t * @param child L.MarkerCluster|L.Marker that will be used as cluster center if not defined yet.\n\t\t * @private\n\t\t */\n\t\t_setClusterCenter: function (child) {\n\t\t\tif (!this._cLatLng) {\n\t\t\t\t// when clustering, take position of the first point as the cluster center\n\t\t\t\tthis._cLatLng = child._cLatLng || child._latlng;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Assigns impossible bounding values so that the next extend entirely determines the new bounds.\n\t\t * This method avoids having to trash the previous L.LatLngBounds object and to create a new one, which is much slower for this class.\n\t\t * As long as the bounds are not extended, most other methods would probably fail, as they would with bounds initialized but not extended.\n\t\t * @private\n\t\t */\n\t\t_resetBounds: function () {\n\t\t\tvar bounds = this._bounds;\n\n\t\t\tif (bounds._southWest) {\n\t\t\t\tbounds._southWest.lat = Infinity;\n\t\t\t\tbounds._southWest.lng = Infinity;\n\t\t\t}\n\t\t\tif (bounds._northEast) {\n\t\t\t\tbounds._northEast.lat = -Infinity;\n\t\t\t\tbounds._northEast.lng = -Infinity;\n\t\t\t}\n\t\t},\n\n\t\t_recalculateBounds: function () {\n\t\t\tvar markers = this._markers,\n\t\t\t    childClusters = this._childClusters,\n\t\t\t    latSum = 0,\n\t\t\t    lngSum = 0,\n\t\t\t    totalCount = this._childCount,\n\t\t\t    i, child, childLatLng, childCount;\n\n\t\t\t// Case where all markers are removed from the map and we are left with just an empty _topClusterLevel.\n\t\t\tif (totalCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset rather than creating a new object, for performance.\n\t\t\tthis._resetBounds();\n\n\t\t\t// Child markers.\n\t\t\tfor (i = 0; i < markers.length; i++) {\n\t\t\t\tchildLatLng = markers[i]._latlng;\n\n\t\t\t\tthis._bounds.extend(childLatLng);\n\n\t\t\t\tlatSum += childLatLng.lat;\n\t\t\t\tlngSum += childLatLng.lng;\n\t\t\t}\n\n\t\t\t// Child clusters.\n\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\tchild = childClusters[i];\n\n\t\t\t\t// Re-compute child bounds and weighted position first if necessary.\n\t\t\t\tif (child._boundsNeedUpdate) {\n\t\t\t\t\tchild._recalculateBounds();\n\t\t\t\t}\n\n\t\t\t\tthis._bounds.extend(child._bounds);\n\n\t\t\t\tchildLatLng = child._wLatLng;\n\t\t\t\tchildCount = child._childCount;\n\n\t\t\t\tlatSum += childLatLng.lat * childCount;\n\t\t\t\tlngSum += childLatLng.lng * childCount;\n\t\t\t}\n\n\t\t\tthis._latlng = this._wLatLng = new L.LatLng(latSum / totalCount, lngSum / totalCount);\n\n\t\t\t// Reset dirty flag.\n\t\t\tthis._boundsNeedUpdate = false;\n\t\t},\n\n\t\t//Set our markers position as given and add it to the map\n\t\t_addToMap: function (startPos) {\n\t\t\tif (startPos) {\n\t\t\t\tthis._backupLatlng = this._latlng;\n\t\t\t\tthis.setLatLng(startPos);\n\t\t\t}\n\t\t\tthis._group._featureGroup.addLayer(this);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenIn: function (bounds, center, maxZoom) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), maxZoom - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar markers = c._markers,\n\t\t\t\t\t\ti, m;\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\n\t\t\t\t\t\t//Only do it if the icon is still on the map\n\t\t\t\t\t\tif (m._icon) {\n\t\t\t\t\t\t\tm._setPos(center);\n\t\t\t\t\t\t\tm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar childClusters = c._childClusters,\n\t\t\t\t\t\tj, cm;\n\t\t\t\t\tfor (j = childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tcm = childClusters[j];\n\t\t\t\t\t\tif (cm._icon) {\n\t\t\t\t\t\t\tcm._setPos(center);\n\t\t\t\t\t\t\tcm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenInAndAddSelfToMap: function (bounds, mapMinZoom, previousZoomLevel, newZoomLevel) {\n\t\t\tthis._recursively(bounds, newZoomLevel, mapMinZoom,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel);\n\n\t\t\t\t\t//TODO: depthToAnimateIn affects _isSingleParent, if there is a multizoom we may/may not be.\n\t\t\t\t\t//As a hack we only do a animation free zoom on a single level zoom, if someone does multiple levels then we always animate\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel) {\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, mapMinZoom, previousZoomLevel); //Immediately remove our children as we are replacing them. TODO previousBounds not bounds\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t}\n\n\t\t\t\t\tc._addToMap();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyBecomeVisible: function (bounds, zoomLevel) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), zoomLevel, null, function (c) {\n\t\t\t\tc.clusterShow();\n\t\t\t});\n\t\t},\n\n\t\t_recursivelyAddChildrenToMap: function (startPos, zoomLevel, bounds) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom() - 1, zoomLevel,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tif (zoomLevel === c._zoom) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Add our child markers at startPos (so they can be animated out)\n\t\t\t\t\tfor (var i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tvar nm = c._markers[i];\n\n\t\t\t\t\t\tif (!bounds.contains(nm._latlng)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (startPos) {\n\t\t\t\t\t\t\tnm._backupLatlng = nm.getLatLng();\n\n\t\t\t\t\t\t\tnm.setLatLng(startPos);\n\t\t\t\t\t\t\tif (nm.clusterHide) {\n\t\t\t\t\t\t\t\tnm.clusterHide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tc._group._featureGroup.addLayer(nm);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._addToMap(startPos);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyRestoreChildPositions: function (zoomLevel) {\n\t\t\t//Fix positions of child markers\n\t\t\tfor (var i = this._markers.length - 1; i >= 0; i--) {\n\t\t\t\tvar nm = this._markers[i];\n\t\t\t\tif (nm._backupLatlng) {\n\t\t\t\t\tnm.setLatLng(nm._backupLatlng);\n\t\t\t\t\tdelete nm._backupLatlng;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoomLevel - 1 === this._zoom) {\n\t\t\t\t//Reposition child clusters\n\t\t\t\tfor (var j = this._childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\tthis._childClusters[j]._restorePosition();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var k = this._childClusters.length - 1; k >= 0; k--) {\n\t\t\t\t\tthis._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_restorePosition: function () {\n\t\t\tif (this._backupLatlng) {\n\t\t\t\tthis.setLatLng(this._backupLatlng);\n\t\t\t\tdelete this._backupLatlng;\n\t\t\t}\n\t\t},\n\n\t\t//exceptBounds: If set, don't remove any markers/clusters in it\n\t\t_recursivelyRemoveChildrenFromMap: function (previousBounds, mapMinZoom, zoomLevel, exceptBounds) {\n\t\t\tvar m, i;\n\t\t\tthis._recursively(previousBounds, mapMinZoom - 1, zoomLevel - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove markers at every level\n\t\t\t\t\tfor (i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._markers[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove child clusters at just the bottom level\n\t\t\t\t\tfor (i = c._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._childClusters[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t//Run the given functions recursively to this and child clusters\n\t\t// boundsToApplyTo: a L.LatLngBounds representing the bounds of what clusters to recurse in to\n\t\t// zoomLevelToStart: zoom level to start running functions (inclusive)\n\t\t// zoomLevelToStop: zoom level to stop running functions (inclusive)\n\t\t// runAtEveryLevel: function that takes an L.MarkerCluster as an argument that should be applied on every level\n\t\t// runAtBottomLevel: function that takes an L.MarkerCluster as an argument that should be applied at only the bottom level\n\t\t_recursively: function (boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {\n\t\t\tvar childClusters = this._childClusters,\n\t\t\t    zoom = this._zoom,\n\t\t\t    i, c;\n\n\t\t\tif (zoomLevelToStart <= zoom) {\n\t\t\t\tif (runAtEveryLevel) {\n\t\t\t\t\trunAtEveryLevel(this);\n\t\t\t\t}\n\t\t\t\tif (runAtBottomLevel && zoom === zoomLevelToStop) {\n\t\t\t\t\trunAtBottomLevel(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoom < zoomLevelToStart || zoom < zoomLevelToStop) {\n\t\t\t\tfor (i = childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\tc = childClusters[i];\n\t\t\t\t\tif (c._boundsNeedUpdate) {\n\t\t\t\t\t\tc._recalculateBounds();\n\t\t\t\t\t}\n\t\t\t\t\tif (boundsToApplyTo.intersects(c._bounds)) {\n\t\t\t\t\t\tc._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t//Returns true if we are the parent of only one cluster and that cluster is the same as us\n\t\t_isSingleParent: function () {\n\t\t\t//Don't need to check this._markers as the rest won't work if there are any\n\t\t\treturn this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;\n\t\t}\n\t});\n\n\t/*\n\t* Extends L.Marker to include two extra methods: clusterHide and clusterShow.\n\t* \n\t* They work as setOpacity(0) and setOpacity(1) respectively, but\n\t* don't overwrite the options.opacity\n\t* \n\t*/\n\n\tL.Marker.include({\n\t\tclusterHide: function () {\n\t\t\tvar backup = this.options.opacity;\n\t\t\tthis.setOpacity(0);\n\t\t\tthis.options.opacity = backup;\n\t\t\treturn this;\n\t\t},\n\t\t\n\t\tclusterShow: function () {\n\t\t\treturn this.setOpacity(this.options.opacity);\n\t\t}\n\t});\n\n\tL.DistanceGrid = function (cellSize) {\n\t\tthis._cellSize = cellSize;\n\t\tthis._sqCellSize = cellSize * cellSize;\n\t\tthis._grid = {};\n\t\tthis._objectPoint = { };\n\t};\n\n\tL.DistanceGrid.prototype = {\n\n\t\taddObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    stamp = L.Util.stamp(obj);\n\n\t\t\tthis._objectPoint[stamp] = point;\n\n\t\t\tcell.push(obj);\n\t\t},\n\n\t\tupdateObject: function (obj, point) {\n\t\t\tthis.removeObject(obj);\n\t\t\tthis.addObject(obj, point);\n\t\t},\n\n\t\t//Returns true if the object was found\n\t\tremoveObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    i, len;\n\n\t\t\tdelete this._objectPoint[L.Util.stamp(obj)];\n\n\t\t\tfor (i = 0, len = cell.length; i < len; i++) {\n\t\t\t\tif (cell[i] === obj) {\n\n\t\t\t\t\tcell.splice(i, 1);\n\n\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\tdelete row[x];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\teachObject: function (fn, context) {\n\t\t\tvar i, j, k, len, row, cell, removed,\n\t\t\t    grid = this._grid;\n\n\t\t\tfor (i in grid) {\n\t\t\t\trow = grid[i];\n\n\t\t\t\tfor (j in row) {\n\t\t\t\t\tcell = row[j];\n\n\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\tremoved = fn.call(context, cell[k]);\n\t\t\t\t\t\tif (removed) {\n\t\t\t\t\t\t\tk--;\n\t\t\t\t\t\t\tlen--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetNearObject: function (point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    i, j, k, row, cell, len, obj, dist,\n\t\t\t    objectPoint = this._objectPoint,\n\t\t\t    closestDistSq = this._sqCellSize,\n\t\t\t    closest = null;\n\n\t\t\tfor (i = y - 1; i <= y + 1; i++) {\n\t\t\t\trow = this._grid[i];\n\t\t\t\tif (row) {\n\n\t\t\t\t\tfor (j = x - 1; j <= x + 1; j++) {\n\t\t\t\t\t\tcell = row[j];\n\t\t\t\t\t\tif (cell) {\n\n\t\t\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\t\t\tobj = cell[k];\n\t\t\t\t\t\t\t\tdist = this._sqDist(objectPoint[L.Util.stamp(obj)], point);\n\t\t\t\t\t\t\t\tif (dist < closestDistSq ||\n\t\t\t\t\t\t\t\t\tdist <= closestDistSq && closest === null) {\n\t\t\t\t\t\t\t\t\tclosestDistSq = dist;\n\t\t\t\t\t\t\t\t\tclosest = obj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn closest;\n\t\t},\n\n\t\t_getCoord: function (x) {\n\t\t\tvar coord = Math.floor(x / this._cellSize);\n\t\t\treturn isFinite(coord) ? coord : x;\n\t\t},\n\n\t\t_sqDist: function (p, p2) {\n\t\t\tvar dx = p2.x - p.x,\n\t\t\t    dy = p2.y - p.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\t};\n\n\t/* Copyright (c) 2012 the authors listed at the following URL, and/or\n\tthe authors of referenced articles or incorporated external code:\n\thttp://en.literateprograms.org/Quickhull_(Javascript)?action=history&offset=20120410175256\n\n\tPermission is hereby granted, free of charge, to any person obtaining\n\ta copy of this software and associated documentation files (the\n\t\"Software\"), to deal in the Software without restriction, including\n\twithout limitation the rights to use, copy, modify, merge, publish,\n\tdistribute, sublicense, and/or sell copies of the Software, and to\n\tpermit persons to whom the Software is furnished to do so, subject to\n\tthe following conditions:\n\n\tThe above copyright notice and this permission notice shall be\n\tincluded in all copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n\tEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\tMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n\tIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n\tCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n\tTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n\tSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tRetrieved from: http://en.literateprograms.org/Quickhull_(Javascript)?oldid=18434\n\t*/\n\n\t(function () {\n\t\tL.QuickHull = {\n\n\t\t\t/*\n\t\t\t * @param {Object} cpt a point to be measured from the baseline\n\t\t\t * @param {Array} bl the baseline, as represented by a two-element\n\t\t\t *   array of latlng objects.\n\t\t\t * @returns {Number} an approximate distance measure\n\t\t\t */\n\t\t\tgetDistant: function (cpt, bl) {\n\t\t\t\tvar vY = bl[1].lat - bl[0].lat,\n\t\t\t\t\tvX = bl[0].lng - bl[1].lng;\n\t\t\t\treturn (vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng));\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * @param {Array} baseLine a two-element array of latlng objects\n\t\t\t *   representing the baseline to project from\n\t\t\t * @param {Array} latLngs an array of latlng objects\n\t\t\t * @returns {Object} the maximum point and all new points to stay\n\t\t\t *   in consideration for the hull.\n\t\t\t */\n\t\t\tfindMostDistantPointFromBaseLine: function (baseLine, latLngs) {\n\t\t\t\tvar maxD = 0,\n\t\t\t\t\tmaxPt = null,\n\t\t\t\t\tnewPoints = [],\n\t\t\t\t\ti, pt, d;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tpt = latLngs[i];\n\t\t\t\t\td = this.getDistant(pt, baseLine);\n\n\t\t\t\t\tif (d > 0) {\n\t\t\t\t\t\tnewPoints.push(pt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (d > maxD) {\n\t\t\t\t\t\tmaxD = d;\n\t\t\t\t\t\tmaxPt = pt;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn { maxPoint: maxPt, newPoints: newPoints };\n\t\t\t},\n\n\n\t\t\t/*\n\t\t\t * Given a baseline, compute the convex hull of latLngs as an array\n\t\t\t * of latLngs.\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tbuildConvexHull: function (baseLine, latLngs) {\n\t\t\t\tvar convexHullBaseLines = [],\n\t\t\t\t\tt = this.findMostDistantPointFromBaseLine(baseLine, latLngs);\n\n\t\t\t\tif (t.maxPoint) { // if there is still a point \"outside\" the base line\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([baseLine[0], t.maxPoint], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([t.maxPoint, baseLine[1]], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\treturn convexHullBaseLines;\n\t\t\t\t} else {  // if there is no more point \"outside\" the base line, the current base line is part of the convex hull\n\t\t\t\t\treturn [baseLine[0]];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * Given an array of latlngs, compute a convex hull as an array\n\t\t\t * of latlngs\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tgetConvexHull: function (latLngs) {\n\t\t\t\t// find first baseline\n\t\t\t\tvar maxLat = false, minLat = false,\n\t\t\t\t\tmaxLng = false, minLng = false,\n\t\t\t\t\tmaxLatPt = null, minLatPt = null,\n\t\t\t\t\tmaxLngPt = null, minLngPt = null,\n\t\t\t\t\tmaxPt = null, minPt = null,\n\t\t\t\t\ti;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar pt = latLngs[i];\n\t\t\t\t\tif (maxLat === false || pt.lat > maxLat) {\n\t\t\t\t\t\tmaxLatPt = pt;\n\t\t\t\t\t\tmaxLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLat === false || pt.lat < minLat) {\n\t\t\t\t\t\tminLatPt = pt;\n\t\t\t\t\t\tminLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (maxLng === false || pt.lng > maxLng) {\n\t\t\t\t\t\tmaxLngPt = pt;\n\t\t\t\t\t\tmaxLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLng === false || pt.lng < minLng) {\n\t\t\t\t\t\tminLngPt = pt;\n\t\t\t\t\t\tminLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (minLat !== maxLat) {\n\t\t\t\t\tminPt = minLatPt;\n\t\t\t\t\tmaxPt = maxLatPt;\n\t\t\t\t} else {\n\t\t\t\t\tminPt = minLngPt;\n\t\t\t\t\tmaxPt = maxLngPt;\n\t\t\t\t}\n\n\t\t\t\tvar ch = [].concat(this.buildConvexHull([minPt, maxPt], latLngs),\n\t\t\t\t\t\t\t\t\tthis.buildConvexHull([maxPt, minPt], latLngs));\n\t\t\t\treturn ch;\n\t\t\t}\n\t\t};\n\t}());\n\n\tL.MarkerCluster.include({\n\t\tgetConvexHull: function () {\n\t\t\tvar childMarkers = this.getAllChildMarkers(),\n\t\t\t\tpoints = [],\n\t\t\t\tp, i;\n\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tp = childMarkers[i].getLatLng();\n\t\t\t\tpoints.push(p);\n\t\t\t}\n\n\t\t\treturn L.QuickHull.getConvexHull(points);\n\t\t}\n\t});\n\n\t//This code is 100% based on https://github.com/jawj/OverlappingMarkerSpiderfier-Leaflet\n\t//Huge thanks to jawj for implementing it first to make my job easy :-)\n\n\tL.MarkerCluster.include({\n\n\t\t_2PI: Math.PI * 2,\n\t\t_circleFootSeparation: 25, //related to circumference of circle\n\t\t_circleStartAngle: 0,\n\n\t\t_spiralFootSeparation:  28, //related to size of spiral (experiment!)\n\t\t_spiralLengthStart: 11,\n\t\t_spiralLengthFactor: 5,\n\n\t\t_circleSpiralSwitchover: 9, //show spiral instead of circle from this marker count upwards.\n\t\t\t\t\t\t\t\t\t// 0 -> always spiral; Infinity -> always circle\n\n\t\tspiderfy: function () {\n\t\t\tif (this._group._spiderfied === this || this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar childMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tcenter = map.latLngToLayerPoint(this._latlng),\n\t\t\t\tpositions;\n\n\t\t\tthis._group._unspiderfy();\n\t\t\tthis._group._spiderfied = this;\n\n\t\t\t//TODO Maybe: childMarkers order by distance to center\n\n\t\t\tif (this._group.options.spiderfyShapePositions) {\n\t\t\t\tpositions = this._group.options.spiderfyShapePositions(childMarkers.length, center);\n\t\t\t} else if (childMarkers.length >= this._circleSpiralSwitchover) {\n\t\t\t\tpositions = this._generatePointsSpiral(childMarkers.length, center);\n\t\t\t} else {\n\t\t\t\tcenter.y += 10; // Otherwise circles look wrong => hack for standard blue icon, renders differently for other icons.\n\t\t\t\tpositions = this._generatePointsCircle(childMarkers.length, center);\n\t\t\t}\n\n\t\t\tthis._animationSpiderfy(childMarkers, positions);\n\t\t},\n\n\t\tunspiderfy: function (zoomDetails) {\n\t\t\t/// <param Name=\"zoomDetails\">Argument from zoomanim if being called in a zoom animation or null otherwise</param>\n\t\t\tif (this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animationUnspiderfy(zoomDetails);\n\n\t\t\tthis._group._spiderfied = null;\n\t\t},\n\n\t\t_generatePointsCircle: function (count, centerPt) {\n\t\t\tvar circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count),\n\t\t\t\tlegLength = circumference / this._2PI,  //radius from circumference\n\t\t\t\tangleStep = this._2PI / count,\n\t\t\t\tres = [],\n\t\t\t\ti, angle;\n\n\t\t\tlegLength = Math.max(legLength, 35); // Minimum distance to get outside the cluster icon.\n\n\t\t\tres.length = count;\n\n\t\t\tfor (i = 0; i < count; i++) { // Clockwise, like spiral.\n\t\t\t\tangle = this._circleStartAngle + i * angleStep;\n\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t}\n\n\t\t\treturn res;\n\t\t},\n\n\t\t_generatePointsSpiral: function (count, centerPt) {\n\t\t\tvar spiderfyDistanceMultiplier = this._group.options.spiderfyDistanceMultiplier,\n\t\t\t\tlegLength = spiderfyDistanceMultiplier * this._spiralLengthStart,\n\t\t\t\tseparation = spiderfyDistanceMultiplier * this._spiralFootSeparation,\n\t\t\t\tlengthFactor = spiderfyDistanceMultiplier * this._spiralLengthFactor * this._2PI,\n\t\t\t\tangle = 0,\n\t\t\t\tres = [],\n\t\t\t\ti;\n\n\t\t\tres.length = count;\n\n\t\t\t// Higher index, closer position to cluster center.\n\t\t\tfor (i = count; i >= 0; i--) {\n\t\t\t\t// Skip the first position, so that we are already farther from center and we avoid\n\t\t\t\t// being under the default cluster icon (especially important for Circle Markers).\n\t\t\t\tif (i < count) {\n\t\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t\t}\n\t\t\t\tangle += separation / legLength + i * 0.0005;\n\t\t\t\tlegLength += lengthFactor / angle;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tm, i;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tfg.removeLayer(m);\n\n\t\t\t\tif (m._preSpiderfyLatlng) {\n\t\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\t\tdelete m._preSpiderfyLatlng;\n\t\t\t\t}\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup._spiderfied = null;\n\t\t}\n\t});\n\n\t//Non Animated versions of everything\n\tL.MarkerClusterNonAnimated = L.MarkerCluster.extend({\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tlegOptions = this._group.options.spiderLegPolylineOptions,\n\t\t\t\ti, m, leg, newPos;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([this._latlng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Now add the marker.\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); //Make these appear on top of EVERYTHING\n\t\t\t\t}\n\n\t\t\t\tfg.addLayer(m);\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup.fire('spiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t},\n\n\t\t_animationUnspiderfy: function () {\n\t\t\tthis._noanimationUnspiderfy();\n\t\t}\n\t});\n\n\t//Animated versions here\n\tL.MarkerCluster.include({\n\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerLatLng = this._latlng,\n\t\t\t\tthisLayerPos = map.latLngToLayerPoint(thisLayerLatLng),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tlegOptions = L.extend({}, this._group.options.spiderLegPolylineOptions), // Copy the options so that we can modify them for animation.\n\t\t\t\tfinalLegOpacity = legOptions.opacity,\n\t\t\t\ti, m, leg, legPath, legLength, newPos;\n\n\t\t\tif (finalLegOpacity === undefined) {\n\t\t\t\tfinalLegOpacity = L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity;\n\t\t\t}\n\n\t\t\tif (svg) {\n\t\t\t\t// If the initial opacity of the spider leg is not 0 then it appears before the animation starts.\n\t\t\t\tlegOptions.opacity = 0;\n\n\t\t\t\t// Add the class for CSS transitions.\n\t\t\t\tlegOptions.className = (legOptions.className || '') + ' leaflet-cluster-spider-leg';\n\t\t\t} else {\n\t\t\t\t// Make sure we have a defined opacity.\n\t\t\t\tlegOptions.opacity = finalLegOpacity;\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Add markers and spider legs to map, hidden at our center point.\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([thisLayerLatLng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Explanations: https://jakearchibald.com/2013/animated-line-drawing-svg/\n\t\t\t\t// In our case the transition property is declared in the CSS file.\n\t\t\t\tif (svg) {\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1; // Need a small extra length to avoid remaining dot in Firefox.\n\t\t\t\t\tlegPath.style.strokeDasharray = legLength; // Just 1 length is enough, it will be duplicated.\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t}\n\n\t\t\t\t// If it is a marker, add it now and we'll animate it out\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); // Make normal markers appear on top of EVERYTHING\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Vectors just get immediately added\n\t\t\t\tfg.addLayer(m);\n\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._forceLayout();\n\t\t\tgroup._animationStart();\n\n\t\t\t// Reveal markers and spider legs.\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Move marker to new position\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\t\n\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\tm.clusterShow();\n\t\t\t\t}\n\n\t\t\t\t// Animate leg (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegPath.style.strokeDashoffset = 0;\n\t\t\t\t\t//legPath.style.strokeOpacity = finalLegOpacity;\n\t\t\t\t\tleg.setStyle({opacity: finalLegOpacity});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('spiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t},\n\n\t\t_animationUnspiderfy: function (zoomDetails) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng),\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tm, i, leg, legPath, legLength, nonAnimatable;\n\n\t\t\tgroup._ignoreMove = true;\n\t\t\tgroup._animationStart();\n\n\t\t\t//Make us visible and bring the child markers back in\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Marker was added to us after we were spiderfied\n\t\t\t\tif (!m._preSpiderfyLatlng) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//Close any popup on the marker first, otherwise setting the location of the marker will make the map scroll\n\t\t\t\tm.closePopup();\n\n\t\t\t\t//Fix up the location to the real one\n\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\tdelete m._preSpiderfyLatlng;\n\n\t\t\t\t//Hack override the location to be our center\n\t\t\t\tnonAnimatable = true;\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (nonAnimatable) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t}\n\n\t\t\t\t// Animate the spider leg back in (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1;\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t\tleg.setStyle({opacity: 0});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t//If we have only <= one child left then that marker will be shown on the map so don't remove it!\n\t\t\t\tvar stillThereChildCount = 0;\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\t\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\t\tstillThereChildCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t\tif (!m._spiderLeg) { //Has already been unspiderfied\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (stillThereChildCount > 1) {\n\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t}\n\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t});\n\n\n\tL.MarkerClusterGroup.include({\n\t\t//The MarkerCluster currently spiderfied (if any)\n\t\t_spiderfied: null,\n\n\t\tunspiderfy: function () {\n\t\t\tthis._unspiderfy.apply(this, arguments);\n\t\t},\n\n\t\t_spiderfierOnAdd: function () {\n\t\t\tthis._map.on('click', this._unspiderfyWrapper, this);\n\n\t\t\tif (this._map.options.zoomAnimation) {\n\t\t\t\tthis._map.on('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\t}\n\t\t\t//Browsers without zoomAnimation or a big zoom don't fire zoomstart\n\t\t\tthis._map.on('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\tif (!L.Browser.touch) {\n\t\t\t\tthis._map.getRenderer(this);\n\t\t\t\t//Needs to happen in the pageload, not after, or animations don't work in webkit\n\t\t\t\t//  http://stackoverflow.com/questions/8455200/svg-animate-with-dynamically-added-elements\n\t\t\t\t//Disable on touch browsers as the animation messes up on a touch zoom and isn't very noticable\n\t\t\t}\n\t\t},\n\n\t\t_spiderfierOnRemove: function () {\n\t\t\tthis._map.off('click', this._unspiderfyWrapper, this);\n\t\t\tthis._map.off('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._map.off('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\t//Ensure that markers are back where they should be\n\t\t\t// Use no animation to avoid a sticky leaflet-cluster-anim class on mapPane\n\t\t\tthis._noanimationUnspiderfy();\n\t\t},\n\n\t\t//On zoom start we add a zoomanim handler so that we are guaranteed to be last (after markers are animated)\n\t\t//This means we can define the animation they do rather than Markers doing an animation to their actual location\n\t\t_unspiderfyZoomStart: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.on('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t},\n\n\t\t_unspiderfyZoomAnim: function (zoomDetails) {\n\t\t\t//Wait until the first zoomanim after the user has finished touch-zooming before running the animation\n\t\t\tif (L.DomUtil.hasClass(this._map._mapPane, 'leaflet-touching')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._unspiderfy(zoomDetails);\n\t\t},\n\n\t\t_unspiderfyWrapper: function () {\n\t\t\t/// <summary>_unspiderfy but passes no arguments</summary>\n\t\t\tthis._unspiderfy();\n\t\t},\n\n\t\t_unspiderfy: function (zoomDetails) {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied.unspiderfy(zoomDetails);\n\t\t\t}\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied._noanimationUnspiderfy();\n\t\t\t}\n\t\t},\n\n\t\t//If the given layer is currently being spiderfied then we unspiderfy it so it isn't on the map anymore etc\n\t\t_unspiderfyLayer: function (layer) {\n\t\t\tif (layer._spiderLeg) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t\t\t//Position will be fixed up immediately in _animationUnspiderfy\n\t\t\t\tif (layer.setZIndexOffset) {\n\t\t\t\t\tlayer.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tthis._map.removeLayer(layer._spiderLeg);\n\t\t\t\tdelete layer._spiderLeg;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Adds 1 public method to MCG and 1 to L.Marker to facilitate changing\n\t * markers' icon options and refreshing their icon and their parent clusters\n\t * accordingly (case where their iconCreateFunction uses data of childMarkers\n\t * to make up the cluster icon).\n\t */\n\n\n\tL.MarkerClusterGroup.include({\n\t\t/**\n\t\t * Updates the icon of all clusters which are parents of the given marker(s).\n\t\t * In singleMarkerMode, also updates the given marker(s) icon.\n\t\t * @param layers L.MarkerClusterGroup|L.LayerGroup|Array(L.Marker)|Map(L.Marker)|\n\t\t * L.MarkerCluster|L.Marker (optional) list of markers (or single marker) whose parent\n\t\t * clusters need to be updated. If not provided, retrieves all child markers of this.\n\t\t * @returns {L.MarkerClusterGroup}\n\t\t */\n\t\trefreshClusters: function (layers) {\n\t\t\tif (!layers) {\n\t\t\t\tlayers = this._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.MarkerClusterGroup) {\n\t\t\t\tlayers = layers._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.LayerGroup) {\n\t\t\t\tlayers = layers._layers;\n\t\t\t} else if (layers instanceof L.MarkerCluster) {\n\t\t\t\tlayers = layers.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.Marker) {\n\t\t\t\tlayers = [layers];\n\t\t\t} // else: must be an Array(L.Marker)|Map(L.Marker)\n\t\t\tthis._flagParentsIconsNeedUpdate(layers);\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t// In case of singleMarkerMode, also re-draw the markers.\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._refreshSingleMarkerModeMarkers(layers);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Simply flags all parent clusters of the given markers as having a \"dirty\" icon.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_flagParentsIconsNeedUpdate: function (layers) {\n\t\t\tvar id, parent;\n\n\t\t\t// Assumes layers is an Array or an Object whose prototype is non-enumerable.\n\t\t\tfor (id in layers) {\n\t\t\t\t// Flag parent clusters' icon as \"dirty\", all the way up.\n\t\t\t\t// Dumb process that flags multiple times upper parents, but still\n\t\t\t\t// much more efficient than trying to be smart and make short lists,\n\t\t\t\t// at least in the case of a hierarchy following a power law:\n\t\t\t\t// http://jsperf.com/flag-nodes-in-power-hierarchy/2\n\t\t\t\tparent = layers[id].__parent;\n\t\t\t\twhile (parent) {\n\t\t\t\t\tparent._iconNeedsUpdate = true;\n\t\t\t\t\tparent = parent.__parent;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Re-draws the icon of the supplied markers.\n\t\t * To be used in singleMarkerMode only.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_refreshSingleMarkerModeMarkers: function (layers) {\n\t\t\tvar id, layer;\n\n\t\t\tfor (id in layers) {\n\t\t\t\tlayer = layers[id];\n\n\t\t\t\t// Make sure we do not override markers that do not belong to THIS group.\n\t\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\t\t// Need to re-create the icon first, then re-draw the marker.\n\t\t\t\t\tlayer.setIcon(this._overrideMarkerIcon(layer));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tL.Marker.include({\n\t\t/**\n\t\t * Updates the given options in the marker's icon and refreshes the marker.\n\t\t * @param options map object of icon options.\n\t\t * @param directlyRefreshClusters boolean (optional) true to trigger\n\t\t * MCG.refreshClustersOf() right away with this single marker.\n\t\t * @returns {L.Marker}\n\t\t */\n\t\trefreshIconOptions: function (options, directlyRefreshClusters) {\n\t\t\tvar icon = this.options.icon;\n\n\t\t\tL.setOptions(icon, options);\n\n\t\t\tthis.setIcon(icon);\n\n\t\t\t// Shortcut to refresh the associated MCG clusters right away.\n\t\t\t// To be used when refreshing a single marker.\n\t\t\t// Otherwise, better use MCG.refreshClusters() once at the end with\n\t\t\t// the list of modified markers.\n\t\t\tif (directlyRefreshClusters && this.__parent) {\n\t\t\t\tthis.__parent._group.refreshClusters(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t});\n\n\texports.MarkerClusterGroup = MarkerClusterGroup;\n\texports.MarkerCluster = MarkerCluster;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=leaflet.markercluster-src.js.map\n","<template>\n  <div class=\"bg-white rounded-lg shadow p-6 mb-8\">\n    <div class=\"flex items-center justify-between mb-4\">\n      <div>\n        <h2 class=\"text-xl font-bold text-gray-800 mb-1\">Photo Locations Map</h2>\n        <p class=\"text-gray-600\">\n          {{ geoData.length }} photos with geolocation data. Click on markers to view photo details.\n        </p>\n      </div>\n      \n      <!-- Map Controls -->\n      <div class=\"flex items-center space-x-3\">\n        <div class=\"text-sm text-gray-500\">\n          <span class=\"font-medium\">Clusters:</span> {{ clusterCount }}\n        </div>\n        <button\n          @click=\"toggleClustering\"\n          :class=\"[\n            'px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200',\n            clusteringEnabled\n              ? 'bg-wikimedia-blue text-white hover:bg-blue-700'\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n          ]\"\n        >\n          {{ clusteringEnabled ? 'Clustering ON' : 'Clustering OFF' }}\n        </button>\n      </div>\n    </div>\n    \n    <!-- Clustering Info Bar -->\n    <div v-if=\"clusteringEnabled\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\n      <div class=\"flex items-center text-sm text-blue-800\">\n        <svg class=\"w-4 h-4 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n        </svg>\n        <span>\n          Markers are grouped into clusters. Zoom in or click on clusters to expand them and see individual photos.\n        </span>\n      </div>\n    </div>\n    \n    <div ref=\"mapContainer\" class=\"h-[500px] w-full rounded-lg border border-gray-300 overflow-hidden\"></div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, onBeforeUnmount } from 'vue';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Import marker clustering plugin\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css';\nimport 'leaflet.markercluster';\n\nconst props = defineProps({\n  geoData: {\n    type: Array,\n    required: true\n  }\n});\n\nconst mapContainer = ref(null);\nlet mapInstance = null;\nlet markerClusterGroup = null;\nlet individualMarkers = [];\n\nconst clusteringEnabled = ref(true);\nconst clusterCount = ref(0);\n\nconst initMap = () => {\n  if (!mapContainer.value || props.geoData.length === 0) return;\n  \n  if (mapInstance) {\n    mapInstance.remove();\n    mapInstance = null;\n  }\n  \n  const validGeoData = props.geoData.filter(d => d.lat && d.lon);\n  if (validGeoData.length === 0) return;\n  \n  const avgLat = validGeoData.reduce((sum, d) => sum + d.lat, 0) / validGeoData.length;\n  const avgLon = validGeoData.reduce((sum, d) => sum + d.lon, 0) / validGeoData.length;\n  \n  mapInstance = L.map(mapContainer.value, {\n    zoomControl: true,\n    attributionControl: true\n  }).setView([avgLat, avgLon], 8);\n  \n  // Borderless (no-label, minimal) basemap\n  // Using Carto light without labels and minimal borders\n  const cartoNoLabels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; OpenStreetMap contributors &copy; CARTO',\n    subdomains: 'abcd',\n    maxZoom: 19\n  }).addTo(mapInstance);\n  \n  // Optional labels layer to toggle (kept off by default)\n  // const cartoLabels = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png', {\n  //   attribution: '&copy; OpenStreetMap contributors &copy; CARTO',\n  //   subdomains: 'abcd',\n  //   maxZoom: 19\n  // });\n  \n  // Create custom location pin marker icon\n  const locationIcon = L.divIcon({\n    className: 'custom-location-marker',\n    html: `\n      <div style=\"position: relative; width: 20px; height: 20px;\">\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\">\n          <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" fill=\"#EF4444\" stroke=\"#DC2626\" stroke-width=\"0.5\"/>\n          <circle cx=\"12\" cy=\"9\" r=\"1.5\" fill=\"white\"/>\n        </svg>\n      </div>\n    `,\n    iconSize: [20, 20],\n    iconAnchor: [10, 20],\n    popupAnchor: [0, -20]\n  });\n  \n  // Initialize marker cluster group with custom options\n  markerClusterGroup = L.markerClusterGroup({\n    chunkedLoading: true,\n    chunkInterval: 200,\n    chunkDelay: 50,\n    maxClusterRadius: 60,\n    disableClusteringAtZoom: 15,\n    animate: true,\n    animateAddingMarkers: true,\n    spiderfyOnMaxZoom: true,\n    showCoverageOnHover: false,\n    zoomToBoundsOnClick: true,\n    iconCreateFunction: function(cluster) {\n      const count = cluster.getChildCount();\n      let colorClass = 'cluster-small';\n      if (count >= 50) colorClass = 'cluster-large';\n      else if (count >= 10) colorClass = 'cluster-medium';\n      return L.divIcon({\n        html: `\n          <div class=\"custom-cluster-marker ${colorClass}\">\n            <div class=\"cluster-inner\">\n              <span class=\"cluster-count\">${count}</span>\n            </div>\n          </div>\n        `,\n        className: 'custom-cluster-container',\n        iconSize: L.point(40, 40),\n        iconAnchor: [20, 20]\n      });\n    }\n  });\n  \n  // Create markers and add them to appropriate groups\n  individualMarkers = [];\n  validGeoData.forEach(item => {\n    const marker = L.marker([item.lat, item.lon], { icon: locationIcon });\n    const popupContent = `\n      <div style=\"min-width: 200px;\">\n        <img src=\"${item.thumbnail}\" alt=\"${item.filename}\" style=\"width: 100%; max-width: 300px; height: auto; border-radius: 4px; margin-bottom: 8px;\" onerror=\"this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22150%22%3E%3Crect fill=%22%23ddd%22 width=%22200%22 height=%22150%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3ENo thumbnail%3C/text%3E%3C/svg%3E'\" />\n        <div style=\"font-weight: 600; margin-bottom: 4px; word-break: break-word;\">${item.filename}</div>\n        <div style=\"font-size: 12px; color: #666; margin-bottom: 4px;\">By: <a href=\"https://commons.wikimedia.org/wiki/User:${encodeURIComponent(item.author)}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #3B82F6; text-decoration: none; font-weight: 500;\">${item.author}</a></div>\n        <div style=\"font-size: 12px; color: #666; margin-bottom: 8px;\">Date: ${item.date}</div>\n        <a href=\"${item.commonsUrl}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline-block; background-color: #3B82F6; color: white; padding: 6px 12px; border-radius: 4px; text-decoration: none; font-size: 12px; font-weight: 500;\">View on Commons</a>\n      </div>\n    `;\n    marker.bindPopup(popupContent, { maxWidth: 350 });\n    markerClusterGroup.addLayer(marker);\n    individualMarkers.push(marker);\n  });\n  \n  if (clusteringEnabled.value) {\n    mapInstance.addLayer(markerClusterGroup);\n  } else {\n    individualMarkers.forEach(marker => marker.addTo(mapInstance));\n  }\n  \n  updateClusterCount();\n  \n  if (validGeoData.length > 0) {\n    const bounds = L.latLngBounds(validGeoData.map(d => [d.lat, d.lon]));\n    mapInstance.fitBounds(bounds, { padding: [0, 0] });\n  }\n  \n  if (markerClusterGroup) {\n    markerClusterGroup.on('clustermouseover', updateClusterCount);\n    markerClusterGroup.on('clusterclick', updateClusterCount);\n    mapInstance.on('zoomend', updateClusterCount);\n  }\n};\n\nconst updateClusterCount = () => {\n  if (markerClusterGroup && clusteringEnabled.value) {\n    let visibleClusters = 0;\n    mapInstance.eachLayer(layer => {\n      if (layer._group === markerClusterGroup && layer._icon) {\n        visibleClusters++;\n      }\n    });\n    clusterCount.value = visibleClusters;\n  } else {\n    clusterCount.value = individualMarkers.length;\n  }\n};\n\nconst toggleClustering = () => {\n  if (!mapInstance || !markerClusterGroup) return;\n  clusteringEnabled.value = !clusteringEnabled.value;\n  if (clusteringEnabled.value) {\n    individualMarkers.forEach(marker => { if (mapInstance.hasLayer(marker)) mapInstance.removeLayer(marker); });\n    mapInstance.addLayer(markerClusterGroup);\n  } else {\n    if (mapInstance.hasLayer(markerClusterGroup)) mapInstance.removeLayer(markerClusterGroup);\n    individualMarkers.forEach(marker => marker.addTo(mapInstance));\n  }\n  updateClusterCount();\n};\n\nonMounted(() => { if (props.geoData.length > 0) { initMap(); } });\nwatch(() => props.geoData, (newData) => { if (newData.length > 0) { initMap(); } }, { deep: true });\nonBeforeUnmount(() => { if (mapInstance) { mapInstance.remove(); mapInstance = null; } markerClusterGroup = null; individualMarkers = []; });\n</script>\n\n<style scoped>\n:deep(.custom-cluster-container) { background: transparent !important; border: none !important; }\n:deep(.custom-cluster-marker) { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; text-align: center; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); border: 3px solid white; transition: all 0.2s ease; }\n:deep(.custom-cluster-marker:hover) { transform: scale(1.1); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); }\n:deep(.cluster-small) { background: linear-gradient(135deg, #3B82F6, #1D4ED8); }\n:deep(.cluster-medium) { background: linear-gradient(135deg, #F59E0B, #D97706); }\n:deep(.cluster-large) { background: linear-gradient(135deg, #EF4444, #DC2626); }\n:deep(.cluster-inner) { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; }\n:deep(.cluster-count) { font-size: 14px; font-weight: 700; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); }\n:deep(.custom-location-marker) { background: transparent !important; border: none !important; }\n:deep(.leaflet-popup) { z-index: 1000; }\n:deep(.marker-cluster) { background-clip: padding-box; border-radius: 20px; }\n:deep(.marker-cluster div) { width: 30px; height: 30px; margin-left: 5px; margin-top: 5px; text-align: center; border-radius: 15px; font: 12px \"Helvetica Neue\", Arial, Helvetica, sans-serif; }\n:deep(.marker-cluster span) { line-height: 30px; }\n</style>\n","import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMilliseconds} function options.\n */\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of milliseconds to be added.\n * @param options - The options object\n *\n * @returns The new date with the milliseconds added\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport function addMilliseconds(date, amount, options) {\n  return constructFrom(options?.in || date, +toDate(date) + amount);\n}\n\n// Fallback for modularized imports:\nexport default addMilliseconds;\n","import { addMilliseconds } from \"./addMilliseconds.js\";\nimport { millisecondsInHour } from \"./constants.js\";\n\n/**\n * The {@link addHours} function options.\n */\n\n/**\n * @name addHours\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of hours to be added\n * @param options - An object with options\n *\n * @returns The new date with the hours added\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * const result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\nexport function addHours(date, amount, options) {\n  return addMilliseconds(date, amount * millisecondsInHour, options);\n}\n\n// Fallback for modularized imports:\nexport default addHours;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { millisecondsInMinute } from \"./constants.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMinutes} function options.\n */\n\n/**\n * @name addMinutes\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of minutes to be added.\n * @param options - An object with options\n *\n * @returns The new date with the minutes added\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * const result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\nexport function addMinutes(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  _date.setTime(_date.getTime() + amount * millisecondsInMinute);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addMinutes;\n","import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addQuarters} function options.\n */\n\n/**\n * @name addQuarters\n * @category Quarter Helpers\n * @summary Add the specified number of year quarters to the given date.\n *\n * @description\n * Add the specified number of year quarters to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of quarters to be added.\n * @param options - An object with options\n *\n * @returns The new date with the quarters added\n *\n * @example\n * // Add 1 quarter to 1 September 2014:\n * const result = addQuarters(new Date(2014, 8, 1), 1)\n * //=; Mon Dec 01 2014 00:00:00\n */\nexport function addQuarters(date, amount, options) {\n  return addMonths(date, amount * 3, options);\n}\n\n// Fallback for modularized imports:\nexport default addQuarters;\n","import { addMilliseconds } from \"./addMilliseconds.js\";\n\n/**\n * The {@link addSeconds} function options.\n */\n\n/**\n * @name addSeconds\n * @category Second Helpers\n * @summary Add the specified number of seconds to the given date.\n *\n * @description\n * Add the specified number of seconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of seconds to be added.\n * @param options - An object with options\n *\n * @returns The new date with the seconds added\n *\n * @example\n * // Add 30 seconds to 10 July 2014 12:45:00:\n * const result = addSeconds(new Date(2014, 6, 10, 12, 45, 0), 30)\n * //=> Thu Jul 10 2014 12:45:30\n */\nexport function addSeconds(date, amount, options) {\n  return addMilliseconds(date, amount * 1000, options);\n}\n\n// Fallback for modularized imports:\nexport default addSeconds;\n","import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link addWeeks} function options.\n */\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of weeks to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n * @param options - An object with options\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount, options) {\n  return addDays(date, amount * 7, options);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n","import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addYears} function options.\n */\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n * @param options - The options\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount, options) {\n  return addMonths(date, amount * 12, options);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const diff = +toDate(dateLeft) - +toDate(dateRight);\n\n  if (diff < 0) return -1;\n  else if (diff > 0) return 1;\n\n  // Return 0 if diff is 0; return NaN if diff is NaN\n  return diff;\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link differenceInCalendarMonths} function options.\n */\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const yearsDiff = laterDate_.getFullYear() - earlierDate_.getFullYear();\n  const monthsDiff = laterDate_.getMonth() - earlierDate_.getMonth();\n\n  return yearsDiff * 12 + monthsDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link differenceInCalendarYears} function options.\n */\n\n/**\n * @name differenceInCalendarYears\n * @category Year Helpers\n * @summary Get the number of calendar years between the given dates.\n *\n * @description\n * Get the number of calendar years between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n\n * @returns The number of calendar years\n *\n * @example\n * // How many calendar years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInCalendarYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * );\n * //=> 2\n */\nexport function differenceInCalendarYears(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  return laterDate_.getFullYear() - earlierDate_.getFullYear();\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarYears;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\n\n/**\n * The {@link differenceInDays} function options.\n */\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const sign = compareLocalAsc(laterDate_, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarDays(laterDate_, earlierDate_),\n  );\n\n  laterDate_.setDate(laterDate_.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(laterDate_, earlierDate_) === -sign,\n  );\n\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(laterDate, earlierDate) {\n  const diff =\n    laterDate.getFullYear() - earlierDate.getFullYear() ||\n    laterDate.getMonth() - earlierDate.getMonth() ||\n    laterDate.getDate() - earlierDate.getDate() ||\n    laterDate.getHours() - earlierDate.getHours() ||\n    laterDate.getMinutes() - earlierDate.getMinutes() ||\n    laterDate.getSeconds() - earlierDate.getSeconds() ||\n    laterDate.getMilliseconds() - earlierDate.getMilliseconds();\n\n  if (diff < 0) return -1;\n  if (diff > 0) return 1;\n\n  // Return 0 if diff is 0; return NaN if diff is NaN\n  return diff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInHour } from \"./constants.js\";\n\n/**\n * The {@link differenceInHours} function options.\n */\n\n/**\n * @name differenceInHours\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of hours\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * const result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\nexport function differenceInHours(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  const diff = (+laterDate_ - +earlierDate_) / millisecondsInHour;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInHours;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { millisecondsInMinute } from \"./constants.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInMinutes} function options.\n */\n\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of minutes\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * const result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are between 10:01:59 and 10:00:00\n * const result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\nexport function differenceInMinutes(dateLeft, dateRight, options) {\n  const diff =\n    differenceInMilliseconds(dateLeft, dateRight) / millisecondsInMinute;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMinutes;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { endOfDay } from \"./endOfDay.js\";\nimport { endOfMonth } from \"./endOfMonth.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param date - The date to check\n * @param options - An object with options\n *\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  return +endOfDay(_date, options) === +endOfMonth(_date, options);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.js\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.js\";\n\n/**\n * The {@link differenceInMonths} function options.\n */\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(laterDate, earlierDate, options) {\n  const [laterDate_, workingLaterDate, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    laterDate,\n    earlierDate,\n  );\n\n  const sign = compareAsc(workingLaterDate, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarMonths(workingLaterDate, earlierDate_),\n  );\n\n  if (difference < 1) return 0;\n\n  if (workingLaterDate.getMonth() === 1 && workingLaterDate.getDate() > 27)\n    workingLaterDate.setDate(30);\n\n  workingLaterDate.setMonth(workingLaterDate.getMonth() - sign * difference);\n\n  let isLastMonthNotFull = compareAsc(workingLaterDate, earlierDate_) === -sign;\n\n  if (\n    isLastDayOfMonth(laterDate_) &&\n    difference === 1 &&\n    compareAsc(laterDate_, earlierDate_) === 1\n  ) {\n    isLastMonthNotFull = false;\n  }\n\n  const result = sign * (difference - +isLastMonthNotFull);\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMonths } from \"./differenceInMonths.js\";\n\n/**\n * The {@link differenceInQuarters} function options.\n */\n\n/**\n * @name differenceInQuarters\n * @category Quarter Helpers\n * @summary Get the number of quarters between the given dates.\n *\n * @description\n * Get the number of quarters between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of full quarters\n *\n * @example\n * // How many full quarters are between 31 December 2013 and 2 July 2014?\n * const result = differenceInQuarters(new Date(2014, 6, 2), new Date(2013, 11, 31))\n * //=> 2\n */\nexport function differenceInQuarters(laterDate, earlierDate, options) {\n  const diff = differenceInMonths(laterDate, earlierDate, options) / 3;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInQuarters;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInDays } from \"./differenceInDays.js\";\n\n/**\n * The {@link differenceInWeeks} function options.\n */\n\n/**\n * @name differenceInWeeks\n * @category Week Helpers\n * @summary Get the number of full weeks between the given dates.\n *\n * @description\n * Get the number of full weeks between two dates. Fractional weeks are\n * truncated towards zero by default.\n *\n * One \"full week\" is the distance between a local time in one day to the same\n * local time 7 days earlier or later. A full week can sometimes be less than\n * or more than 7*24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 7*24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/(7*24))|0`.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full weeks\n *\n * @example\n * // How many full weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInWeeks(new Date(2014, 6, 20), new Date(2014, 6, 5))\n * //=> 2\n *\n * @example\n * // How many full weeks are between\n * // 1 March 2020 0:00 and 6 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 8 weeks (54 days),\n * // even if DST starts and the period has\n * // only 54*24-1 hours.\n * const result = differenceInWeeks(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 6)\n * )\n * //=> 8\n */\nexport function differenceInWeeks(laterDate, earlierDate, options) {\n  const diff = differenceInDays(laterDate, earlierDate, options) / 7;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInWeeks;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { differenceInCalendarYears } from \"./differenceInCalendarYears.js\";\n\n/**\n * The {@link differenceInYears} function options.\n */\n\n/**\n * @name differenceInYears\n * @category Year Helpers\n * @summary Get the number of full years between the given dates.\n *\n * @description\n * Get the number of full years between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full years\n *\n * @example\n * // How many full years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInYears(new Date(2015, 1, 11), new Date(2013, 11, 31))\n * //=> 1\n */\nexport function differenceInYears(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  // -1 if the left date is earlier than the right date\n  // 2023-12-31 - 2024-01-01 = -1\n  const sign = compareAsc(laterDate_, earlierDate_);\n\n  // First calculate the difference in calendar years\n  // 2024-01-01 - 2023-12-31 = 1 year\n  const diff = Math.abs(differenceInCalendarYears(laterDate_, earlierDate_));\n\n  // Now we need to calculate if the difference is full. To do that we set\n  // both dates to the same year and check if the both date's month and day\n  // form a full year.\n  laterDate_.setFullYear(1584);\n  earlierDate_.setFullYear(1584);\n\n  // For it to be true, when the later date is indeed later than the earlier date\n  // (2026-02-01 - 2023-12-10 = 3 years), the difference is full if\n  // the normalized later date is also later than the normalized earlier date.\n  // In our example, 1584-02-01 is earlier than 1584-12-10, so the difference\n  // is partial, hence we need to subtract 1 from the difference 3 - 1 = 2.\n  const partial = compareAsc(laterDate_, earlierDate_) === -sign;\n\n  const result = sign * (diff - +partial);\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInYears;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfQuarter} function options.\n */\n\n/**\n * @name startOfQuarter\n * @category Quarter Helpers\n * @summary Return the start of a year quarter for the given date.\n *\n * @description\n * Return the start of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a quarter\n *\n * @example\n * // The start of a quarter for 2 September 2014 11:55:00:\n * const result = startOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Jul 01 2014 00:00:00\n */\nexport function startOfQuarter(date, options) {\n  const _date = toDate(date, options?.in);\n  const currentMonth = _date.getMonth();\n  const month = currentMonth - (currentMonth % 3);\n  _date.setMonth(month, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfQuarter;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfYear} function options.\n */\n\n/**\n * @name endOfYear\n * @category Year Helpers\n * @summary Return the end of a year for the given date.\n *\n * @description\n * Return the end of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The end of a year\n *\n * @example\n * // The end of a year for 2 September 2014 11:55:00:\n * const result = endOfYear(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Wed Dec 31 2014 23:59:59.999\n */\nexport function endOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n  _date.setFullYear(year + 1, 0, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfYear;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfHour} function options.\n */\n\n/**\n * @name endOfHour\n * @category Hour Helpers\n * @summary Return the end of an hour for the given date.\n *\n * @description\n * Return the end of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of an hour\n *\n * @example\n * // The end of an hour for 2 September 2014 11:55:00:\n * const result = endOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:59:59.999\n */\nexport function endOfHour(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setMinutes(59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfHour;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMinute} function options.\n */\n\n/**\n * @name endOfMinute\n * @category Minute Helpers\n * @summary Return the end of a minute for the given date.\n *\n * @description\n * Return the end of a minute for the given date.\n * The result will be in the local timezone or the provided context.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a minute\n *\n * @example\n * // The end of a minute for 1 December 2014 22:15:45.400:\n * const result = endOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:59.999\n */\nexport function endOfMinute(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setSeconds(59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMinute;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfQuarter} function options.\n */\n\n/**\n * @name endOfQuarter\n * @category Quarter Helpers\n * @summary Return the end of a year quarter for the given date.\n *\n * @description\n * Return the end of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a quarter\n *\n * @example\n * // The end of a quarter for 2 September 2014 11:55:00:\n * const result = endOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfQuarter(date, options) {\n  const _date = toDate(date, options?.in);\n  const currentMonth = _date.getMonth();\n  const month = currentMonth - (currentMonth % 3) + 3;\n  _date.setMonth(month, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfQuarter;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfSecond} function options.\n */\n\n/**\n * @name endOfSecond\n * @category Second Helpers\n * @summary Return the end of a second for the given date.\n *\n * @description\n * Return the end of a second for the given date.\n * The result will be in the local timezone if no `in` option is specified.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a second\n *\n * @example\n * // The end of a second for 1 December 2014 22:15:45.400:\n * const result = endOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.999\n */\nexport function endOfSecond(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setMilliseconds(999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfSecond;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > âš ï¸ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { getDefaultOptions as getInternalDefaultOptions } from \"./_lib/defaultOptions.js\";\n\n/**\n * @name getDefaultOptions\n * @category Common Helpers\n * @summary Get default options.\n * @pure false\n *\n * @description\n * Returns an object that contains defaults for\n * `options.locale`, `options.weekStartsOn` and `options.firstWeekContainsDate`\n * arguments for all functions.\n *\n * You can change these with [setDefaultOptions](https://date-fns.org/docs/setDefaultOptions).\n *\n * @returns The default options\n *\n * @example\n * const result = getDefaultOptions()\n * //=> {}\n *\n * @example\n * setDefaultOptions({ weekStarsOn: 1, firstWeekContainsDate: 4 })\n * const result = getDefaultOptions()\n * //=> { weekStarsOn: 1, firstWeekContainsDate: 4 }\n */\nexport function getDefaultOptions() {\n  return Object.assign({}, getInternalDefaultOptions());\n}\n\n// Fallback for modularized imports:\nexport default getDefaultOptions;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISODay} function options.\n */\n\n/**\n * @name getISODay\n * @category Weekday Helpers\n * @summary Get the day of the ISO week of the given date.\n *\n * @description\n * Get the day of the ISO week of the given date,\n * which is 7 for Sunday, 1 for Monday etc.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The day of ISO week\n *\n * @example\n * // Which day of the ISO week is 26 February 2012?\n * const result = getISODay(new Date(2012, 1, 26))\n * //=> 7\n */\nexport function getISODay(date, options) {\n  const day = toDate(date, options?.in).getDay();\n  return day === 0 ? 7 : day;\n}\n\n// Fallback for modularized imports:\nexport default getISODay;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name transpose\n * @category Generic Helpers\n * @summary Transpose the date to the given constructor.\n *\n * @description\n * The function transposes the date to the given constructor. It helps you\n * to transpose the date in the system time zone to say `UTCDate` or any other\n * date extension.\n *\n * @typeParam InputDate - The input `Date` type derived from the passed argument.\n * @typeParam ResultDate - The result `Date` type derived from the passed constructor.\n *\n * @param date - The date to use values from\n * @param constructor - The date constructor to use\n *\n * @returns Date transposed to the given constructor\n *\n * @example\n * // Create July 10, 2022 00:00 in locale time zone\n * const date = new Date(2022, 6, 10)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0800 (Singapore Standard Time)'\n *\n * @example\n * // Transpose the date to July 10, 2022 00:00 in UTC\n * transpose(date, UTCDate)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0000 (Coordinated Universal Time)'\n */\nexport function transpose(date, constructor) {\n  const date_ = isConstructor(constructor)\n    ? new constructor(0)\n    : constructFrom(constructor, 0);\n  date_.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  date_.setHours(\n    date.getHours(),\n    date.getMinutes(),\n    date.getSeconds(),\n    date.getMilliseconds(),\n  );\n  return date_;\n}\n\nfunction isConstructor(constructor) {\n  return (\n    typeof constructor === \"function\" &&\n    constructor.prototype?.constructor === constructor\n  );\n}\n\n// Fallback for modularized imports:\nexport default transpose;\n","import { constructFrom } from \"../../constructFrom.js\";\nimport { transpose } from \"../../transpose.js\";\n\nconst TIMEZONE_UNIT_PRIORITY = 10;\n\nexport class Setter {\n  subPriority = 0;\n\n  validate(_utcDate, _options) {\n    return true;\n  }\n}\n\nexport class ValueSetter extends Setter {\n  constructor(\n    value,\n\n    validateValue,\n\n    setValue,\n\n    priority,\n    subPriority,\n  ) {\n    super();\n    this.value = value;\n    this.validateValue = validateValue;\n    this.setValue = setValue;\n    this.priority = priority;\n    if (subPriority) {\n      this.subPriority = subPriority;\n    }\n  }\n\n  validate(date, options) {\n    return this.validateValue(date, this.value, options);\n  }\n\n  set(date, flags, options) {\n    return this.setValue(date, flags, this.value, options);\n  }\n}\n\nexport class DateTimezoneSetter extends Setter {\n  priority = TIMEZONE_UNIT_PRIORITY;\n  subPriority = -1;\n\n  constructor(context, reference) {\n    super();\n    this.context = context || ((date) => constructFrom(reference, date));\n  }\n\n  set(date, flags) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(date, transpose(date, this.context));\n  }\n}\n","import { ValueSetter } from \"./Setter.js\";\n\nexport class Parser {\n  run(dateString, token, match, options) {\n    const result = this.parse(dateString, token, match, options);\n    if (!result) {\n      return null;\n    }\n\n    return {\n      setter: new ValueSetter(\n        result.value,\n        this.validate,\n        this.set,\n        this.priority,\n        this.subPriority,\n      ),\n      rest: result.rest,\n    };\n  }\n\n  validate(_utcDate, _value, _options) {\n    return true;\n  }\n}\n","import { Parser } from \"../Parser.js\";\n\nexport class EraParser extends Parser {\n  priority = 140;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return (\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n\n      // A, B\n      case \"GGGGG\":\n        return match.era(dateString, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return (\n          match.era(dateString, { width: \"wide\" }) ||\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n    }\n  }\n\n  set(date, flags, value) {\n    flags.era = value;\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"R\", \"u\", \"t\", \"T\"];\n}\n","export const numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/, // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/, // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/, // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/, // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/, // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/, // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/, // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/, // 0 to 12\n  minute: /^[0-5]?\\d/, // 0 to 59\n  second: /^[0-5]?\\d/, // 0 to 59\n\n  singleDigit: /^\\d/, // 0 to 9\n  twoDigits: /^\\d{1,2}/, // 0 to 99\n  threeDigits: /^\\d{1,3}/, // 0 to 999\n  fourDigits: /^\\d{1,4}/, // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/, // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/, // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/, // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/, // 0 to 9999, -0 to -9999\n};\n\nexport const timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/,\n};\n","import {\n  millisecondsInHour,\n  millisecondsInMinute,\n  millisecondsInSecond,\n} from \"../../constants.js\";\n\nimport { numericPatterns } from \"./constants.js\";\n\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest,\n  };\n}\n\nexport function parseNumericPattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseTimezonePattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === \"Z\") {\n    return {\n      value: 0,\n      rest: dateString.slice(1),\n    };\n  }\n\n  const sign = matchResult[1] === \"+\" ? 1 : -1;\n  const hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  const minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  const seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n\n  return {\n    value:\n      sign *\n      (hours * millisecondsInHour +\n        minutes * millisecondsInMinute +\n        seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\n\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^-?\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case \"morning\":\n      return 4;\n    case \"evening\":\n      return 17;\n    case \"pm\":\n    case \"noon\":\n    case \"afternoon\":\n      return 12;\n    case \"am\":\n    case \"midnight\":\n    case \"night\":\n    default:\n      return 0;\n  }\n}\n\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  const isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  const absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n\n  let result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    const rangeEnd = absCurrentYear + 50;\n    const rangeEndCentury = Math.trunc(rangeEnd / 100) * 100;\n    const isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n\n  return isCommonEra ? result : 1 - result;\n}\n\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport class YearParser extends Parser {\n  priority = 130;\n  incompatibleTokens = [\"Y\", \"R\", \"u\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"yy\",\n    });\n\n    switch (token) {\n      case \"y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value) {\n    const currentYear = date.getFullYear();\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(normalizedTwoDigitYear, 0, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n","import { getWeekYear } from \"../../../getWeekYear.js\";\n\nimport { startOfWeek } from \"../../../startOfWeek.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n\n// Local week-numbering year\nexport class LocalWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"YY\",\n    });\n\n    switch (token) {\n      case \"Y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"Yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value, options) {\n    const currentYear = getWeekYear(date, options);\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(\n        normalizedTwoDigitYear,\n        0,\n        options.firstWeekContainsDate,\n      );\n      date.setHours(0, 0, 0, 0);\n      return startOfWeek(date, options);\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, options.firstWeekContainsDate);\n    date.setHours(0, 0, 0, 0);\n    return startOfWeek(date, options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { startOfISOWeek } from \"../../../startOfISOWeek.js\";\nimport { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigitsSigned } from \"../utils.js\";\n\n// ISO week-numbering year\nexport class ISOWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"R\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    const firstWeekOfYear = constructFrom(date, 0);\n    firstWeekOfYear.setFullYear(value, 0, 4);\n    firstWeekOfYear.setHours(0, 0, 0, 0);\n    return startOfISOWeek(firstWeekOfYear);\n  }\n\n  incompatibleTokens = [\n    \"G\",\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { parseNDigitsSigned } from \"../utils.js\";\n\nexport class ExtendedYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"u\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"G\", \"y\", \"Y\", \"R\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { parseNDigits } from \"../utils.js\";\n\nexport class QuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n      case \"QQ\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { parseNDigits } from \"../utils.js\";\n\nexport class StandAloneQuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n      case \"qq\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class MonthParser extends Parser {\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"M\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"MM\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // J, F, ..., D\n      case \"MMMMM\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class StandAloneMonthParser extends Parser {\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"LL\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // J, F, ..., D\n      case \"LLLLL\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { getWeek } from \"./getWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setWeek} function options.\n */\n\n/**\n * @name setWeek\n * @category Week Helpers\n * @summary Set the local week to the given date.\n *\n * @description\n * Set the local week to the given date, saving the weekday number.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param week - The week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the local week set\n *\n * @example\n * // Set the 1st week to 2 January 2005 with default options:\n * const result = setWeek(new Date(2005, 0, 2), 1)\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // Set the 1st week to 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January:\n * const result = setWeek(new Date(2005, 0, 2), 1, {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Sun Jan 4 2004 00:00:00\n */\nexport function setWeek(date, week, options) {\n  const date_ = toDate(date, options?.in);\n  const diff = getWeek(date_, options) - week;\n  date_.setDate(date_.getDate() - diff * 7);\n  return toDate(date_, options?.in);\n}\n\n// Fallback for modularized imports:\nexport default setWeek;\n","import { setWeek } from \"../../../setWeek.js\";\nimport { startOfWeek } from \"../../../startOfWeek.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\n// Local week of year\nexport class LocalWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"w\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"wo\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value, options) {\n    return startOfWeek(setWeek(date, value, options), options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { getISOWeek } from \"./getISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setISOWeek} function options.\n */\n\n/**\n * @name setISOWeek\n * @category ISO Week Helpers\n * @summary Set the ISO week to the given date.\n *\n * @description\n * Set the ISO week to the given date, saving the weekday number.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The `Date` type of the context function.\n *\n * @param date - The date to be changed\n * @param week - The ISO week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the ISO week set\n *\n * @example\n * // Set the 53rd ISO week to 7 August 2004:\n * const result = setISOWeek(new Date(2004, 7, 7), 53)\n * //=> Sat Jan 01 2005 00:00:00\n */\nexport function setISOWeek(date, week, options) {\n  const _date = toDate(date, options?.in);\n  const diff = getISOWeek(_date, options) - week;\n  _date.setDate(_date.getDate() - diff * 7);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setISOWeek;\n","import { setISOWeek } from \"../../../setISOWeek.js\";\nimport { startOfISOWeek } from \"../../../startOfISOWeek.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\n// ISO week of year\nexport class ISOWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"I\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"Io\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value) {\n    return startOfISOWeek(setISOWeek(date, value));\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.js\";\n\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst DAYS_IN_MONTH_LEAP_YEAR = [\n  31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\n];\n\n// Day of the month\nexport class DateParser extends Parser {\n  priority = 90;\n  subPriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"d\":\n        return parseNumericPattern(numericPatterns.date, dateString);\n      case \"do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    const month = date.getMonth();\n    if (isLeapYear) {\n      return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n    } else {\n      return value >= 1 && value <= DAYS_IN_MONTH[month];\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setDate(value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.js\";\n\nexport class DayOfYearParser extends Parser {\n  priority = 90;\n\n  subpriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"D\":\n      case \"DD\":\n        return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n      case \"Do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    if (isLeapYear) {\n      return value >= 1 && value <= 366;\n    } else {\n      return value >= 1 && value <= 365;\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(0, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { addDays } from \"./addDays.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setDay} function options.\n */\n\n/**\n * @name setDay\n * @category Weekday Helpers\n * @summary Set the day of the week to the given date.\n *\n * @description\n * Set the day of the week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param day - The day of the week of the new date\n * @param options - An object with options.\n *\n * @returns The new date with the day of the week set\n *\n * @example\n * // Set week day to Sunday, with the default weekStartsOn of Sunday:\n * const result = setDay(new Date(2014, 8, 1), 0)\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // Set week day to Sunday, with a weekStartsOn of Monday:\n * const result = setDay(new Date(2014, 8, 1), 0, { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setDay(date, day, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const date_ = toDate(date, options?.in);\n  const currentDay = date_.getDay();\n\n  const remainder = day % 7;\n  const dayIndex = (remainder + 7) % 7;\n\n  const delta = 7 - weekStartsOn;\n  const diff =\n    day < 0 || day > 6\n      ? day - ((currentDay + delta) % 7)\n      : ((dayIndex + delta) % 7) - ((currentDay + delta) % 7);\n  return addDays(date_, diff, options);\n}\n\n// Fallback for modularized imports:\nexport default setDay;\n","import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\n// Day of week\nexport class DayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"EEEEE\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"D\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n","import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// Local day of week\nexport class LocalDayParser extends Parser {\n  priority = 90;\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"e\":\n      case \"ee\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"eo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"eee\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"eeeee\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"eeee\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// Stand-alone local day of week\nexport class StandAloneLocalDayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"c\":\n      case \"cc\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"co\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"ccc\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // T\n      case \"ccccc\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // Tuesday\n      case \"cccc\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { addDays } from \"./addDays.js\";\nimport { getISODay } from \"./getISODay.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setISODay} function options.\n */\n\n/**\n * @name setISODay\n * @category Weekday Helpers\n * @summary Set the day of the ISO week to the given date.\n *\n * @description\n * Set the day of the ISO week to the given date.\n * ISO week starts with Monday.\n * 7 is the index of Sunday, 1 is the index of Monday, etc.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param day - The day of the ISO week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the day of the ISO week set\n *\n * @example\n * // Set Sunday to 1 September 2014:\n * const result = setISODay(new Date(2014, 8, 1), 7)\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setISODay(date, day, options) {\n  const date_ = toDate(date, options?.in);\n  const currentDay = getISODay(date_, options);\n  const diff = day - currentDay;\n  return addDays(date_, diff, options);\n}\n\n// Fallback for modularized imports:\nexport default setISODay;\n","import { setISODay } from \"../../../setISODay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// ISO day of week\nexport class ISODayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => {\n      if (value === 0) {\n        return 7;\n      }\n      return value;\n    };\n\n    switch (token) {\n      // 2\n      case \"i\":\n      case \"ii\": // 02\n        return parseNDigits(token.length, dateString);\n      // 2nd\n      case \"io\":\n        return match.ordinalNumber(dateString, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // T\n      case \"iiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          }),\n          valueCallback,\n        );\n      // Tu\n      case \"iiiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"short\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // Tuesday\n      case \"iiii\":\n      default:\n        return mapValue(\n          match.day(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"abbreviated\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 7;\n  }\n\n  set(date, _flags, value) {\n    date = setISODay(date, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\nexport class AMPMParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n      case \"aaa\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"aaaaa\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"b\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\nexport class AMPMMidnightParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n      case \"bbb\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"bbbbb\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\n// in the morning, in the afternoon, in the evening, at night\nexport class DayPeriodParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"BBBBB\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour1to12Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"h\":\n        return parseNumericPattern(numericPatterns.hour12h, dateString);\n      case \"ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 12;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else if (!isPM && value === 12) {\n      date.setHours(0, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"H\", \"K\", \"k\", \"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour0to23Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"H\":\n        return parseNumericPattern(numericPatterns.hour23h, dateString);\n      case \"Ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 23;\n  }\n\n  set(date, _flags, value) {\n    date.setHours(value, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"K\", \"k\", \"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour0To11Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"K\":\n        return parseNumericPattern(numericPatterns.hour11h, dateString);\n      case \"Ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"h\", \"H\", \"k\", \"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour1To24Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"k\":\n        return parseNumericPattern(numericPatterns.hour24h, dateString);\n      case \"ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 24;\n  }\n\n  set(date, _flags, value) {\n    const hours = value <= 24 ? value % 24 : value;\n    date.setHours(hours, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"H\", \"K\", \"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class MinuteParser extends Parser {\n  priority = 60;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"m\":\n        return parseNumericPattern(numericPatterns.minute, dateString);\n      case \"mo\":\n        return match.ordinalNumber(dateString, { unit: \"minute\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setMinutes(value, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n","import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class SecondParser extends Parser {\n  priority = 50;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"s\":\n        return parseNumericPattern(numericPatterns.second, dateString);\n      case \"so\":\n        return match.ordinalNumber(dateString, { unit: \"second\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setSeconds(value, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n","import { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\nexport class FractionOfSecondParser extends Parser {\n  priority = 30;\n\n  parse(dateString, token) {\n    const valueCallback = (value) =>\n      Math.trunc(value * Math.pow(10, -token.length + 3));\n    return mapValue(parseNDigits(token.length, dateString), valueCallback);\n  }\n\n  set(date, _flags, value) {\n    date.setMilliseconds(value);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n","import { constructFrom } from \"../../../constructFrom.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseTimezonePattern } from \"../utils.js\";\n\n// Timezone (ISO-8601. +00:00 is `'Z'`)\nexport class ISOTimezoneWithZParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"X\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"XX\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"XXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"XXXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"XXX\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"x\"];\n}\n","import { constructFrom } from \"../../../constructFrom.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseTimezonePattern } from \"../utils.js\";\n\n// Timezone (ISO-8601)\nexport class ISOTimezoneParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"x\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"xx\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"xxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"xxxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"xxx\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"X\"];\n}\n","import { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseAnyDigitsSigned } from \"../utils.js\";\n\nexport class TimestampSecondsParser extends Parser {\n  priority = 40;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value * 1000), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n","import { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseAnyDigitsSigned } from \"../utils.js\";\n\nexport class TimestampMillisecondsParser extends Parser {\n  priority = 20;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n","import { EraParser } from \"./parsers/EraParser.js\";\nimport { YearParser } from \"./parsers/YearParser.js\";\nimport { LocalWeekYearParser } from \"./parsers/LocalWeekYearParser.js\";\nimport { ISOWeekYearParser } from \"./parsers/ISOWeekYearParser.js\";\nimport { ExtendedYearParser } from \"./parsers/ExtendedYearParser.js\";\nimport { QuarterParser } from \"./parsers/QuarterParser.js\";\nimport { StandAloneQuarterParser } from \"./parsers/StandAloneQuarterParser.js\";\nimport { MonthParser } from \"./parsers/MonthParser.js\";\nimport { StandAloneMonthParser } from \"./parsers/StandAloneMonthParser.js\";\nimport { LocalWeekParser } from \"./parsers/LocalWeekParser.js\";\nimport { ISOWeekParser } from \"./parsers/ISOWeekParser.js\";\nimport { DateParser } from \"./parsers/DateParser.js\";\nimport { DayOfYearParser } from \"./parsers/DayOfYearParser.js\";\nimport { DayParser } from \"./parsers/DayParser.js\";\nimport { LocalDayParser } from \"./parsers/LocalDayParser.js\";\nimport { StandAloneLocalDayParser } from \"./parsers/StandAloneLocalDayParser.js\";\nimport { ISODayParser } from \"./parsers/ISODayParser.js\";\nimport { AMPMParser } from \"./parsers/AMPMParser.js\";\nimport { AMPMMidnightParser } from \"./parsers/AMPMMidnightParser.js\";\nimport { DayPeriodParser } from \"./parsers/DayPeriodParser.js\";\nimport { Hour1to12Parser } from \"./parsers/Hour1to12Parser.js\";\nimport { Hour0to23Parser } from \"./parsers/Hour0to23Parser.js\";\nimport { Hour0To11Parser } from \"./parsers/Hour0To11Parser.js\";\nimport { Hour1To24Parser } from \"./parsers/Hour1To24Parser.js\";\nimport { MinuteParser } from \"./parsers/MinuteParser.js\";\nimport { SecondParser } from \"./parsers/SecondParser.js\";\nimport { FractionOfSecondParser } from \"./parsers/FractionOfSecondParser.js\";\nimport { ISOTimezoneWithZParser } from \"./parsers/ISOTimezoneWithZParser.js\";\nimport { ISOTimezoneParser } from \"./parsers/ISOTimezoneParser.js\";\nimport { TimestampSecondsParser } from \"./parsers/TimestampSecondsParser.js\";\nimport { TimestampMillisecondsParser } from \"./parsers/TimestampMillisecondsParser.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\nexport const parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser(),\n};\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getDefaultOptions } from \"./getDefaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\nimport { DateTimezoneSetter } from \"./parse/_lib/Setter.js\";\nimport { parsers } from \"./parse/_lib/parsers.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { longFormatters, parsers };\n\n/**\n * The {@link parse} function options.\n */\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\n\nconst notWhitespaceRegExp = /\\S/;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name parse\n * @category Common Helpers\n * @summary Parse the date.\n *\n * @description\n * Return the date parsed from string using the given format string.\n *\n * > âš ï¸ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n *\n * Format of the format string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 5 below the table).\n *\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\n *\n * ```javascript\n * parse('23 AM', 'HH a', new Date())\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\n * ```\n *\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\n *\n * Accepted format string patterns:\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\n * |---------------------------------|-----|---------|-----------------------------------|-------|\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 |     | GGGGG   | A, B                              |       |\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\n * |                                 |     | yyyyy   | ...                               | 2,4   |\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\n * |                                 |     | YYYYY   | ...                               | 2,4   |\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\n * |                                 |     | uuuuu   | ...                               | 2,4   |\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 |     | DDDD    | ...                               | 2     |\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\n * |                                 |     | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\n * |                                 |     | tt      | ...                               | 2     |\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\n * |                                 |     | SSS     | 000, 001, ..., 999                |       |\n * |                                 |     | SSSS    | ...                               | 2     |\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\n * |                                 |     | TT      | ...                               | 2     |\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\n * |                                 |     | PP      | May 29, 1453                      |       |\n * |                                 |     | PPP     | May 29th, 1453                    |       |\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\n * |                                 |     | pp      | 12:00:00 AM                       |       |\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\n *    In `format` function, they will produce different result:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n *    `parse` will try to match both formatting and stand-alone units interchangeably.\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table:\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\n *      as wide as the sequence\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\n *      These variations are marked with \"2\" in the last column of the table.\n *\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 4. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\n *\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\n *\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\n *\n *    while `uu` will just assign the year as is:\n *\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\n *\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear](https://date-fns.org/docs/setISOWeekYear)\n *    and [setWeekYear](https://date-fns.org/docs/setWeekYear)).\n *\n * 5. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 7. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\n *    on the given locale.\n *\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\n *    using `en-US` locale: `p` => `hh:mm a`\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\n *    using `pt-BR` locale: `p` => `HH:mm`\n *\n * Values will be assigned to the date in the descending order of its unit's priority.\n * Units of an equal priority overwrite each other in the order of appearance.\n *\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\n *\n * `referenceDate` must be passed for correct work of the function.\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\n * In this case parsing will be done in the context of the current date.\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\n * then `Invalid Date` will be returned.\n *\n * The result may vary by locale.\n *\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\n *\n * If parsing failed, `Invalid Date` will be returned.\n * Invalid Date is a Date, whose time value is NaN.\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param dateStr - The string to parse\n * @param formatStr - The string of tokens\n * @param referenceDate - defines values missing from the parsed dateString\n * @param options - An object with options.\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @returns The parsed date\n *\n * @throws `options.locale` must contain `match` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Parse 11 February 2014 from middle-endian format:\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\n * //=> Tue Feb 11 2014 00:00:00\n *\n * @example\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\n * import eo from 'date-fns/locale/eo'\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\n *   locale: eo\n * })\n * //=> Sun Feb 28 2010 00:00:00\n */\nexport function parse(dateStr, formatStr, referenceDate, options) {\n  const invalidDate = () => constructFrom(options?.in || referenceDate, NaN);\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  if (!formatStr)\n    return dateStr ? invalidDate() : toDate(referenceDate, options?.in);\n\n  const subFnOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  // If timezone isn't specified, it will try to use the context or\n  // the reference date and fallback to the system time zone.\n  const setters = [new DateTimezoneSetter(options?.in, referenceDate)];\n\n  const tokens = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter in longFormatters) {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp);\n\n  const usedTokens = [];\n\n  for (let token of tokens) {\n    if (\n      !options?.useAdditionalWeekYearTokens &&\n      isProtectedWeekYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n    if (\n      !options?.useAdditionalDayOfYearTokens &&\n      isProtectedDayOfYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n\n    const firstCharacter = token[0];\n    const parser = parsers[firstCharacter];\n    if (parser) {\n      const { incompatibleTokens } = parser;\n      if (Array.isArray(incompatibleTokens)) {\n        const incompatibleToken = usedTokens.find(\n          (usedToken) =>\n            incompatibleTokens.includes(usedToken.token) ||\n            usedToken.token === firstCharacter,\n        );\n        if (incompatibleToken) {\n          throw new RangeError(\n            `The format string mustn't contain \\`${incompatibleToken.fullToken}\\` and \\`${token}\\` at the same time`,\n          );\n        }\n      } else if (parser.incompatibleTokens === \"*\" && usedTokens.length > 0) {\n        throw new RangeError(\n          `The format string mustn't contain \\`${token}\\` and any other token at the same time`,\n        );\n      }\n\n      usedTokens.push({ token: firstCharacter, fullToken: token });\n\n      const parseResult = parser.run(\n        dateStr,\n        token,\n        locale.match,\n        subFnOptions,\n      );\n\n      if (!parseResult) {\n        return invalidDate();\n      }\n\n      setters.push(parseResult.setter);\n\n      dateStr = parseResult.rest;\n    } else {\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      // Replace two single quote characters with one single quote character\n      if (token === \"''\") {\n        token = \"'\";\n      } else if (firstCharacter === \"'\") {\n        token = cleanEscapedString(token);\n      }\n\n      // Cut token from string, or, if string doesn't match the token, return Invalid Date\n      if (dateStr.indexOf(token) === 0) {\n        dateStr = dateStr.slice(token.length);\n      } else {\n        return invalidDate();\n      }\n    }\n  }\n\n  // Check if the remaining input contains something other than whitespace\n  if (dateStr.length > 0 && notWhitespaceRegExp.test(dateStr)) {\n    return invalidDate();\n  }\n\n  const uniquePrioritySetters = setters\n    .map((setter) => setter.priority)\n    .sort((a, b) => b - a)\n    .filter((priority, index, array) => array.indexOf(priority) === index)\n    .map((priority) =>\n      setters\n        .filter((setter) => setter.priority === priority)\n        .sort((a, b) => b.subPriority - a.subPriority),\n    )\n    .map((setterArray) => setterArray[0]);\n\n  let date = toDate(referenceDate, options?.in);\n\n  if (isNaN(+date)) return invalidDate();\n\n  const flags = {};\n  for (const setter of uniquePrioritySetters) {\n    if (!setter.validate(date, subFnOptions)) {\n      return invalidDate();\n    }\n\n    const result = setter.set(date, flags, subFnOptions);\n    // Result is tuple (date, flags)\n    if (Array.isArray(result)) {\n      date = result[0];\n      Object.assign(flags, result[1]);\n      // Result is date\n    } else {\n      date = result;\n    }\n  }\n\n  return date;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default parse;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfHour} function options.\n */\n\n/**\n * @name startOfHour\n * @category Hour Helpers\n * @summary Return the start of an hour for the given date.\n *\n * @description\n * Return the start of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an hour\n *\n * @example\n * // The start of an hour for 2 September 2014 11:55:00:\n * const result = startOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:00:00\n */\nexport function startOfHour(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setMinutes(0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfHour;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMinute} function options.\n */\n\n/**\n * @name startOfMinute\n * @category Minute Helpers\n * @summary Return the start of a minute for the given date.\n *\n * @description\n * Return the start of a minute for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a minute\n *\n * @example\n * // The start of a minute for 1 December 2014 22:15:45.400:\n * const result = startOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:00\n */\nexport function startOfMinute(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setSeconds(0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfMinute;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfSecond} function options.\n */\n\n/**\n * @name startOfSecond\n * @category Second Helpers\n * @summary Return the start of a second for the given date.\n *\n * @description\n * Return the start of a second for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a second\n *\n * @example\n * // The start of a second for 1 December 2014 22:15:45.400:\n * const result = startOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.000\n */\nexport function startOfSecond(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setMilliseconds(0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfSecond;\n","import {\n  millisecondsInHour,\n  millisecondsInMinute,\n} from \"./constants.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const invalidDate = () => constructFrom(options?.in, NaN);\n\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(+date)) return invalidDate();\n\n  const timestamp = +date;\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) return invalidDate();\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) return invalidDate();\n  } else {\n    const tmpDate = new Date(timestamp + time);\n    const result = toDate(0, options?.in);\n    result.setFullYear(\n      tmpDate.getUTCFullYear(),\n      tmpDate.getUTCMonth(),\n      tmpDate.getUTCDate(),\n    );\n    result.setHours(\n      tmpDate.getUTCHours(),\n      tmpDate.getUTCMinutes(),\n      tmpDate.getUTCSeconds(),\n      tmpDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return toDate(timestamp + time + offset, options?.in);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","/*!\n * chartjs-adapter-date-fns v3.0.0\n * https://www.chartjs.org\n * (c) 2022 chartjs-adapter-date-fns Contributors\n * Released under the MIT license\n */\nimport { _adapters } from 'chart.js';\nimport { toDate, parse, parseISO, isValid, format, addYears, addQuarters, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addMilliseconds, differenceInYears, differenceInQuarters, differenceInMonths, differenceInWeeks, differenceInDays, differenceInHours, differenceInMinutes, differenceInSeconds, differenceInMilliseconds, startOfYear, startOfQuarter, startOfMonth, startOfWeek, startOfDay, startOfHour, startOfMinute, startOfSecond, endOfYear, endOfQuarter, endOfMonth, endOfWeek, endOfDay, endOfHour, endOfMinute, endOfSecond } from 'date-fns';\n\nconst FORMATS = {\n  datetime: 'MMM d, yyyy, h:mm:ss aaaa',\n  millisecond: 'h:mm:ss.SSS aaaa',\n  second: 'h:mm:ss aaaa',\n  minute: 'h:mm aaaa',\n  hour: 'ha',\n  day: 'MMM d',\n  week: 'PP',\n  month: 'MMM yyyy',\n  quarter: 'qqq - yyyy',\n  year: 'yyyy'\n};\n\n_adapters._date.override({\n  _id: 'date-fns', // DEBUG\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, fmt) {\n    if (value === null || typeof value === 'undefined') {\n      return null;\n    }\n    const type = typeof value;\n    if (type === 'number' || value instanceof Date) {\n      value = toDate(value);\n    } else if (type === 'string') {\n      if (typeof fmt === 'string') {\n        value = parse(value, fmt, new Date(), this.options);\n      } else {\n        value = parseISO(value, this.options);\n      }\n    }\n    return isValid(value) ? value.getTime() : null;\n  },\n\n  format: function(time, fmt) {\n    return format(time, fmt, this.options);\n  },\n\n  add: function(time, amount, unit) {\n    switch (unit) {\n    case 'millisecond': return addMilliseconds(time, amount);\n    case 'second': return addSeconds(time, amount);\n    case 'minute': return addMinutes(time, amount);\n    case 'hour': return addHours(time, amount);\n    case 'day': return addDays(time, amount);\n    case 'week': return addWeeks(time, amount);\n    case 'month': return addMonths(time, amount);\n    case 'quarter': return addQuarters(time, amount);\n    case 'year': return addYears(time, amount);\n    default: return time;\n    }\n  },\n\n  diff: function(max, min, unit) {\n    switch (unit) {\n    case 'millisecond': return differenceInMilliseconds(max, min);\n    case 'second': return differenceInSeconds(max, min);\n    case 'minute': return differenceInMinutes(max, min);\n    case 'hour': return differenceInHours(max, min);\n    case 'day': return differenceInDays(max, min);\n    case 'week': return differenceInWeeks(max, min);\n    case 'month': return differenceInMonths(max, min);\n    case 'quarter': return differenceInQuarters(max, min);\n    case 'year': return differenceInYears(max, min);\n    default: return 0;\n    }\n  },\n\n  startOf: function(time, unit, weekday) {\n    switch (unit) {\n    case 'second': return startOfSecond(time);\n    case 'minute': return startOfMinute(time);\n    case 'hour': return startOfHour(time);\n    case 'day': return startOfDay(time);\n    case 'week': return startOfWeek(time);\n    case 'isoWeek': return startOfWeek(time, {weekStartsOn: +weekday});\n    case 'month': return startOfMonth(time);\n    case 'quarter': return startOfQuarter(time);\n    case 'year': return startOfYear(time);\n    default: return time;\n    }\n  },\n\n  endOf: function(time, unit) {\n    switch (unit) {\n    case 'second': return endOfSecond(time);\n    case 'minute': return endOfMinute(time);\n    case 'hour': return endOfHour(time);\n    case 'day': return endOfDay(time);\n    case 'week': return endOfWeek(time);\n    case 'month': return endOfMonth(time);\n    case 'quarter': return endOfQuarter(time);\n    case 'year': return endOfYear(time);\n    default: return time;\n    }\n  }\n});\n","<template>\n  <div>\n    <!-- Daily Uploads Chart -->\n    <div id=\"daily-uploads\" class=\"bg-white rounded-lg shadow p-6 mb-8\">\n      <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Daily Upload Activity</h2>\n      <canvas ref=\"dailyChart\"></canvas>\n    </div>\n\n    <!-- User Contributions -->\n    <div id=\"top-users\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Top Contributors (Files)</h2>\n        <canvas ref=\"userBarChart\"></canvas>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Top Camera Models</h2>\n        <canvas ref=\"cameraChart\"></canvas>\n      </div>\n    </div>\n\n    <!-- Full Width Pie Chart -->\n    <div id=\"distribution\" class=\"bg-white rounded-lg shadow p-6 mb-8\">\n      <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Contribution Distribution</h2>\n      <div class=\"flex justify-center\">\n        <div class=\"w-full max-w-2xl\">\n          <canvas ref=\"userPieChart\"></canvas>\n        </div>\n      </div>\n    </div>\n\n    <!-- File Size Distribution and Top Upload Days -->\n    <div id=\"file-activity\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">File Size Distribution</h2>\n        <canvas ref=\"sizeChart\"></canvas>\n      </div>\n      \n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Top Upload Days</h2>\n        <canvas ref=\"topDaysChart\"></canvas>\n      </div>\n    </div>\n\n    <!-- Upload Time Distribution -->\n    <div id=\"time-activity\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Upload Hours Distribution</h2>\n        <canvas ref=\"hourlyChart\"></canvas>\n      </div>\n      \n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">Monthly Activity</h2>\n        <canvas ref=\"monthlyChart\"></canvas>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, onBeforeUnmount } from 'vue';\nimport Chart from 'chart.js/auto';\nimport 'chartjs-adapter-date-fns';\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true\n  }\n});\n\nconst dailyChart = ref(null);\nconst userBarChart = ref(null);\nconst userPieChart = ref(null);\nconst sizeChart = ref(null);\nconst cameraChart = ref(null);\nconst topDaysChart = ref(null);\nconst hourlyChart = ref(null);\nconst monthlyChart = ref(null);\n\nlet charts = {};\n\nconst getDateBounds = () => {\n  const dates = (props.data?.dailyUploads || []).map(d => new Date(d.date));\n  if (!dates.length) return null;\n  dates.sort((a,b) => a - b);\n  return { min: dates[0], max: dates[dates.length - 1] };\n};\n\nconst initCharts = () => {\n  // Destroy existing charts\n  Object.values(charts).forEach(chart => chart.destroy());\n  charts = {};\n\n  const bounds = getDateBounds();\n  \n  // Daily Uploads Chart\n  if (dailyChart.value && props.data.dailyUploads) {\n    charts.daily = new Chart(dailyChart.value, {\n      type: 'line',\n      data: {\n        labels: props.data.dailyUploads.map(d => d.date),\n        datasets: [{\n          label: 'Uploads',\n          data: props.data.dailyUploads.map(d => d.uploads),\n          borderColor: '#3B82F6',\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\n          tension: 0.4,\n          fill: true\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: true,\n        plugins: { legend: { display: true } },\n        scales: bounds ? {\n          x: {\n            type: 'time',\n            time: { unit: 'day' },\n            min: bounds.min,\n            max: bounds.max\n          }\n        } : {}\n      }\n    });\n  }\n\n  // Other charts unchanged ...\n  if (userBarChart.value && props.data.userContributions) {\n    const topUsers = props.data.userContributions.slice(0, 10);\n    charts.userBar = new Chart(userBarChart.value, {\n      type: 'bar',\n      data: {\n        labels: topUsers.map(u => u.name),\n        datasets: [{ label: 'Files', data: topUsers.map(u => u.files), backgroundColor: '#10B981' }]\n      },\n      options: { responsive: true, maintainAspectRatio: true, indexAxis: 'y' }\n    });\n  }\n\n  if (userPieChart.value && props.data.userContributions) {\n    const topUsers = props.data.userContributions.slice(0, 8);\n    charts.userPie = new Chart(userPieChart.value, {\n      type: 'pie',\n      data: {\n        labels: topUsers.map(u => u.name),\n        datasets: [{\n          data: topUsers.map(u => u.files),\n          backgroundColor: [\n            '#0088FE', '#00C49F', '#FFBB28', '#FF8042',\n            '#8884D8', '#82CA9D', '#FFC658', '#FF6B9D'\n          ]\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: true,\n        plugins: { legend: { position: 'right' } }\n      }\n    });\n  }\n\n  if (sizeChart.value && props.data.sizeDistribution) {\n    charts.size = new Chart(sizeChart.value, {\n      type: 'bar',\n      data: {\n        labels: props.data.sizeDistribution.map(s => s.range),\n        datasets: [{ label: 'Files', data: props.data.sizeDistribution.map(s => s.count), backgroundColor: '#F59E0B' }]\n      },\n      options: { responsive: true, maintainAspectRatio: true }\n    });\n  }\n\n  if (topDaysChart.value && props.data.dailyUploads) {\n    const topDays = [...props.data.dailyUploads].sort((a,b) => b.uploads - a.uploads).slice(0,10);\n    charts.topDays = new Chart(topDaysChart.value, {\n      type: 'bar',\n      data: {\n        labels: topDays.map(d => d.date),\n        datasets: [{ label: 'Uploads', data: topDays.map(d => d.uploads), backgroundColor: '#EF4444' }]\n      },\n      options: { responsive: true, maintainAspectRatio: true, indexAxis: 'y' }\n    });\n  }\n\n  if (hourlyChart.value && props.data.hourlyDistribution) {\n    charts.hourly = new Chart(hourlyChart.value, {\n      type: 'bar',\n      data: {\n        labels: props.data.hourlyDistribution.map(h => `${h.hour}:00`),\n        datasets: [{ label: 'Uploads', data: props.data.hourlyDistribution.map(h => h.count), backgroundColor: '#8B5CF6' }]\n      },\n      options: { responsive: true, maintainAspectRatio: true }\n    });\n  }\n\n  if (monthlyChart.value && props.data.monthlyActivity) {\n    charts.monthly = new Chart(monthlyChart.value, {\n      type: 'line',\n      data: {\n        labels: props.data.monthlyActivity.map(m => m.month),\n        datasets: [{\n          label: 'Uploads',\n          data: props.data.monthlyActivity.map(m => m.count),\n          borderColor: '#06B6D4',\n          backgroundColor: 'rgba(6, 182, 212, 0.1)',\n          tension: 0.4,\n          fill: true\n        }]\n      },\n      options: { responsive: true, maintainAspectRatio: true }\n    });\n  }\n\n  if (cameraChart.value && props.data.cameraData) {\n    charts.camera = new Chart(cameraChart.value, {\n      type: 'bar',\n      data: {\n        labels: props.data.cameraData.map(c => c.model),\n        datasets: [{ label: 'Photos', data: props.data.cameraData.map(c => c.count), backgroundColor: '#8B5CF6' }]\n      },\n      options: { responsive: true, maintainAspectRatio: true, indexAxis: 'y' }\n    });\n  }\n};\n\nonMounted(() => { if (props.data) initCharts(); });\nwatch(() => props.data, (n) => { if (n) initCharts(); }, { deep: true });\nonBeforeUnmount(() => { Object.values(charts).forEach(c => c.destroy()); charts = {}; });\n</script>\n","<template>\n  <div class=\"bg-white rounded-lg shadow p-6\">\n    <div class=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4\">\n      <h2 class=\"text-xl font-bold text-gray-800\">Detailed User Contributions</h2>\n      <div class=\"flex items-center gap-3\">\n        <input\n          v-model.trim=\"query\"\n          type=\"search\"\n          placeholder=\"Search userâ€¦\"\n          class=\"w-56 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-wikimedia-blue/30 focus:border-wikimedia-blue\"\n        />\n        <select v-model=\"sortKey\" class=\"px-3 py-2 text-sm border border-gray-300 rounded-lg\">\n          <option value=\"files\">Sort by Files</option>\n          <option value=\"sizeMB\">Sort by Size</option>\n          <option value=\"name\">Sort by Name</option>\n        </select>\n        <button @click=\"toggleDir\" class=\"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50\">\n          {{ sortDir === 'desc' ? 'Desc' : 'Asc' }}\n        </button>\n        <div class=\"h-6 w-px bg-gray-200\" />\n        <button @click=\"exportCSV\" class=\"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50\">Export CSV</button>\n        <button @click=\"exportWikiTable\" class=\"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50\">Copy Wikitable</button>\n      </div>\n    </div>\n\n    <div class=\"overflow-x-auto\">\n      <table class=\"min-w-full divide-y divide-gray-200\">\n        <thead class=\"bg-gray-50\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Rank</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Username</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Files Uploaded</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total Size (MB)</th>\n          </tr>\n        </thead>\n        <tbody class=\"bg-white divide-y divide-gray-200\">\n          <tr v-for=\"(user, index) in visibleRows\" :key=\"user.name\" class=\"hover:bg-gray-50\">\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{{ index + 1 }}</td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n              <a \n                :href=\"getUserPageUrl(user.name)\" \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                class=\"text-wikimedia-blue hover:text-wikimedia-green transition-colors duration-200 font-medium hover:underline\"\n                :title=\"`View ${user.name}'s user page on Wikimedia Commons`\"\n              >\n                {{ user.name }}\n              </a>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ user.files }}</td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ user.sizeMB }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue';\n\nconst props = defineProps({\n  userContributions: {\n    type: Array,\n    required: true\n  }\n});\n\nconst query = ref('');\nconst sortKey = ref('files');\nconst sortDir = ref('desc');\n\nconst toggleDir = () => {\n  sortDir.value = sortDir.value === 'desc' ? 'asc' : 'desc';\n};\n\nconst getUserPageUrl = (username) => {\n  const encodedUsername = encodeURIComponent(username.trim());\n  return `https://commons.wikimedia.org/wiki/User:${encodedUsername}`;\n};\n\nconst visibleRows = computed(() => {\n  const q = query.value.toLowerCase();\n  let rows = (props.userContributions || []).filter(u => !q || (u.name || '').toLowerCase().includes(q));\n\n  const key = sortKey.value;\n  const dir = sortDir.value === 'desc' ? -1 : 1;\n\n  rows = rows.slice().sort((a, b) => {\n    let av = a[key];\n    let bv = b[key];\n    if (key === 'sizeMB') {\n      av = parseFloat(av);\n      bv = parseFloat(bv);\n    }\n    if (typeof av === 'string') av = av.toLowerCase();\n    if (typeof bv === 'string') bv = bv.toLowerCase();\n    if (av < bv) return -1 * dir;\n    if (av > bv) return 1 * dir;\n    return 0;\n  });\n\n  return rows;\n});\n\n// Export helpers\nconst download = (filename, content, mime='text/plain') => {\n  const blob = new Blob([content], { type: `${mime};charset=utf-8` });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n};\n\nconst exportCSV = () => {\n  const header = ['Rank','Username','Files Uploaded','Total Size (MB)'];\n  const lines = [header.join(',')];\n  visibleRows.value.forEach((u, i) => {\n    const row = [i + 1, u.name, u.files, u.sizeMB];\n    lines.push(row.map(v => typeof v === 'string' && v.includes(',') ? `\"${v.replace(/\"/g,'\"\"')}\"` : v).join(','));\n  });\n  download('contributors.csv', lines.join('\\n'), 'text/csv');\n};\n\nconst exportWikiTable = () => {\n  const lines = [];\n  lines.push('{| class=\"wikitable sortable\"');\n  lines.push('|+ Contributors');\n  lines.push('! Rank !! Username !! Files Uploaded !! Total Size (MB)');\n  visibleRows.value.forEach((u, i) => {\n    const userPage = `[[User:${u.name}|${u.name}]]`;\n    lines.push('|-');\n    lines.push(`| ${i + 1} || ${userPage} || ${u.files} || ${u.sizeMB}`);\n  });\n  lines.push('|}');\n\n  const text = lines.join('\\n');\n\n  // Copy to clipboard and also offer download\n  navigator.clipboard?.writeText(text).catch(()=>{});\n  download('contributors-wikitable.txt', text, 'text/plain');\n};\n</script>\n","<template>\n  <footer class=\"bg-white border-t border-gray-200\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"flex flex-col md:flex-row md:items-center md:justify-between gap-6\">\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-10 h-10 rounded-lg bg-gradient-to-br from-wikimedia-blue to-wikimedia-green flex items-center justify-center\">\n            <svg class=\"w-6 h-6 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"/></svg>\n          </div>\n          <div>\n            <p class=\"text-sm font-semibold text-gray-900\">MIST by <a href=\"https://w.wiki/tN\" target=\"_blank\">Ranjithsiji</a></p>\n            <p class=\"text-xs text-gray-500\">Media Statistics and Analytics Dashboard for Wikimedia Commons Campaigns</p>\n          </div>\n        </div>\n        <div class=\"grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm\">\n          <a href=\"#\" class=\"text-gray-600 hover:text-wikimedia-blue\">About</a>\n          <a href=\"#\" class=\"text-gray-600 hover:text-wikimedia-blue\">Documentation</a>\n          <a href=\"https://commons.wikimedia.org\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-600 hover:text-wikimedia-blue\">Wikimedia Commons</a>\n          <a href=\"https://github.com/ranjithsiji/mist-commons\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-600 hover:text-wikimedia-blue\">GitHub</a>\n        </div>\n      </div>\n      <div class=\"mt-6 pt-6 border-t border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n        <p class=\"text-xs text-gray-500\">Â© {{ new Date().getFullYear() }} MIST. Built with Vue.js and TailwindCSS.</p>\n        <div class=\"flex items-center gap-4 text-xs text-gray-500\">\n          <span>\n          <a href=\"https://gitlab.wikimedia.org/toolforge-repos/mist-tools\" target=\"_blank\">\n            Source Code\n          </a>\n          </span>\n          \n          <span><a href=\"https://github.com/ranjithsiji/mist-commons/blob/main/LICENSE\" target=\"_blank\">License</a></span>\n          <span><a href=\"https://w.wiki/t9\" target=\"_blank\">Wikimedians of Kerala User Group</a></span>\n        </div>\n      </div>\n    </div>\n  </footer>\n</template>\n\n<script setup>\n</script>\n","import { ref } from 'vue';\n\n// Use environment variables with fallback to local development\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || '/api';\nconst API_TIMEOUT = import.meta.env.VITE_API_TIMEOUT || 30000;\n\nexport function useApi() {\n  const loading = ref(false);\n  const error = ref('');\n\n  // Create fetch with timeout\n  const fetchWithTimeout = async (url, options = {}) => {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), API_TIMEOUT);\n    \n    try {\n      const response = await fetch(url, {\n        ...options,\n        signal: controller.signal,\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers,\n        }\n      });\n      clearTimeout(timeoutId);\n      return response;\n    } catch (err) {\n      clearTimeout(timeoutId);\n      if (err.name === 'AbortError') {\n        throw new Error('Request timeout - server may be unavailable');\n      }\n      throw err;\n    }\n  };\n\n  const fetchCategories = async () => {\n    loading.value = true;\n    error.value = '';\n    \n    try {\n      const response = await fetchWithTimeout(`${API_BASE_URL}/categories.php`);\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${response.statusText}${errorText ? ` - ${errorText}` : ''}`);\n      }\n      const jsonData = await response.json();\n      if (!jsonData.success) {\n        throw new Error(jsonData.error || 'API returned success: false');\n      }\n      return jsonData.categories || [];\n    } catch (err) {\n      const errorMessage = `Failed to load categories: ${err.message}`;\n      error.value = errorMessage;\n      if (import.meta.env.DEV) {\n        return getMockCategories();\n      }\n      throw new Error(errorMessage);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  const fetchDashboardData = async (categoryName, isCustomCategory = false, dateRange = {}) => {\n    if (!categoryName) {\n      throw new Error('Category name is required');\n    }\n\n    loading.value = true;\n    error.value = '';\n    \n    try {\n      // Build parameters for API call\n      const params = new URLSearchParams({ category: categoryName });\n      if (isCustomCategory) params.append('custom', '1');\n      if (dateRange.startDate) params.append('start', dateRange.startDate);\n      if (dateRange.endDate) params.append('end', dateRange.endDate);\n      \n      const url = `${API_BASE_URL}/dashboard.php?${params.toString()}`;\n      const response = await fetchWithTimeout(url);\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${response.statusText}${errorText ? ` - ${errorText}` : ''}`);\n      }\n      const jsonData = await response.json();\n      if (!jsonData.success) {\n        throw new Error(jsonData.error || 'Failed to fetch dashboard data');\n      }\n      return jsonData;\n    } catch (err) {\n      const errorMessage = `Failed to load dashboard data: ${err.message}`;\n      error.value = errorMessage;\n      if (import.meta.env.DEV) {\n        return getMockDashboardData(categoryName);\n      }\n      throw new Error(errorMessage);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // Function to validate if a category exists on Commons\n  const validateCategory = async (categoryName) => {\n    try {\n      const apiUrl = 'https://commons.wikimedia.org/w/api.php';\n      let searchQuery = categoryName;\n      if (!searchQuery.startsWith('Category:')) {\n        searchQuery = `Category:${categoryName}`;\n      }\n      const params = new URLSearchParams({\n        action: 'query',\n        format: 'json',\n        origin: '*',\n        titles: searchQuery,\n        prop: 'categoryinfo|info',\n        formatversion: '2'\n      });\n      const response = await fetch(`${apiUrl}?${params}`);\n      const data = await response.json();\n      if (data.query && data.query.pages && data.query.pages.length > 0) {\n        const page = data.query.pages[0];\n        return {\n          exists: !page.missing,\n          pageCount: page.categoryinfo ? page.categoryinfo.pages : 0,\n          title: page.title\n        };\n      }\n      return { exists: false, pageCount: 0, title: searchQuery };\n    } catch (error) {\n      return { exists: false, pageCount: 0, title: categoryName, error: error.message };\n    }\n  };\n\n  // Mock data helpers (unchanged)\n  const getMockCategories = () => [\n    { id: 'wlb-india-2024', name: 'Wiki Loves Birds India 2024', slug: 'wiki-loves-birds-india-2024', description: 'Photography contest celebrating Indian bird diversity', categoryName: 'Images_from_Wiki_Loves_Birds_India_2024_(maintenance-earth)', icon: 'ðŸ¦…', year: '2024', color1: '#3B82F6', color2: '#1D4ED8' },\n    { id: 'wlm-india-2023', name: 'Wiki Loves Monuments India 2023', slug: 'wiki-loves-monuments-india-2023', description: 'Documenting India\\'s architectural heritage', categoryName: 'Images_from_Wiki_Loves_Monuments_2023_in_India', icon: 'ðŸ›ï¸', year: '2023', color1: '#F59E0B', color2: '#D97706' },\n    { id: 'wle-india-2023', name: 'Wiki Loves Earth India 2023', slug: 'wiki-loves-earth-india-2023', description: 'Capturing natural heritage and protected areas', categoryName: 'Images_from_Wiki_Loves_Earth_2023_in_India', icon: 'ðŸŒ', year: '2023', color1: '#10B981', color2: '#059669' }\n  ];\n\n  const getMockDashboardData = (categoryName) => {\n    const mockRows = [];\n    for (let i = 1; i <= 10; i++) {\n      const daysAgo = Math.floor(Math.random() * 30);\n      const date = new Date();\n      date.setDate(date.getDate() - daysAgo);\n      const imgdate = date.toISOString().slice(0, 10).replace(/-/g, '');\n      const timestamp = imgdate + '120000';\n      let metadata = '{}';\n      if (i % 3 === 0) {\n        metadata = JSON.stringify({ data: { GPSLatitude: 10.0 + Math.random() * 2, GPSLongitude: 76.0 + Math.random() * 2, Model: 'Canon EOS 5D Mark IV' } });\n      } else if (i % 2 === 0) {\n        metadata = JSON.stringify({ data: { Model: ['Nikon D850', 'Sony Alpha 7R IV'][Math.floor(Math.random() * 2)] } });\n      }\n      mockRows.push([ i, categoryName, `Sample_Image_${i}.jpg`, imgdate, timestamp, Math.floor(Math.random() * 10000000) + 1000000, metadata, ['TestUser1', 'TestUser2', 'TestUser3'][Math.floor(Math.random() * 3)] ]);\n    }\n    return { success: true, rows: mockRows, count: mockRows.length, timestamp: new Date().toISOString(), category: categoryName, cached: false, mock_data: true };\n  };\n\n  return { loading, error, fetchCategories, fetchDashboardData, validateCategory };\n}\n","import { ref } from 'vue';\n\nexport function useDataProcessor() {\n  const processData = (jsonData) => {\n    //console.log('Processing API data:', jsonData);\n    \n    // Handle the original \"rows\" format from Quarry SQL output\n    const rows = jsonData.rows || [];\n    if (rows.length === 0) {\n      console.warn('No data rows found in API response');\n      return getEmptyStats();\n    }\n    \n    // Process each row to extract statistics\n    const uniqueUsers = new Set(rows.map(r => r[7])).size;\n    const totalFiles = rows.length;\n    const totalSize = rows.reduce((sum, r) => sum + (parseInt(r[5]) || 0), 0);\n    const uniqueDates = new Set(rows.map(r => r[3])).size;\n    \n    // Process geolocation data from metadata\n    const geoLocations = [];\n    let geotaggedCount = 0;\n    \n    rows.forEach(row => {\n      try {\n        const metadataJson = row[6];\n        if (metadataJson && metadataJson !== '{}') {\n          const metadata = JSON.parse(metadataJson);\n          const lat = metadata?.data?.GPSLatitude;\n          const lon = metadata?.data?.GPSLongitude;\n          \n          if (lat && lon && !isNaN(parseFloat(lat)) && !isNaN(parseFloat(lon))) {\n            const latitude = parseFloat(lat);\n            const longitude = parseFloat(lon);\n            \n            // Validate coordinates are within reasonable bounds\n            if (latitude >= -90 && latitude <= 90 && longitude >= -180 && longitude <= 180) {\n              geotaggedCount++;\n              \n              const filename = row[2];\n              const date = row[3];\n              const formattedDate = date ? `${date.slice(0,4)}-${date.slice(4,6)}-${date.slice(6,8)}` : 'Unknown';\n              \n              geoLocations.push({\n                lat: latitude,\n                lon: longitude,\n                filename: filename,\n                author: row[7] || 'Unknown',\n                date: formattedDate,\n                thumbnail: `https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(filename)}?width=300`,\n                commonsUrl: `https://commons.wikimedia.org/wiki/File:${encodeURIComponent(filename)}`\n              });\n            }\n          }\n        }\n      } catch (e) {\n        // Skip invalid metadata, don't log as this is common\n      }\n    });\n    \n    console.log(`Found ${geoLocations.length} valid GPS coordinates from ${geotaggedCount} geotagged files`);\n    \n    // User contributions with actual sizes\n    const userContributions = {};\n    rows.forEach(row => {\n      const user = row[7];\n      if (!userContributions[user]) {\n        userContributions[user] = { count: 0, size: 0 };\n      }\n      userContributions[user].count++;\n      userContributions[user].size += parseInt(row[5]) || 0;\n    });\n    \n    const userContribArray = Object.entries(userContributions)\n      .map(([name, data]) => ({\n        name,\n        files: data.count,\n        sizeMB: (data.size / (1024 * 1024)).toFixed(2)\n      }))\n      .sort((a, b) => b.files - a.files);\n    \n    // Daily uploads from actual data\n    const dailyUploads = {};\n    rows.forEach(row => {\n      const date = row[3];\n      if (date && date.length === 8) {\n        const formattedDate = `${date.slice(0,4)}-${date.slice(4,6)}-${date.slice(6,8)}`;\n        dailyUploads[formattedDate] = (dailyUploads[formattedDate] || 0) + 1;\n      }\n    });\n    \n    const dailyUploadArray = Object.entries(dailyUploads)\n      .map(([date, count]) => ({ date, uploads: count }))\n      .sort((a, b) => a.date.localeCompare(b.date));\n    \n    // Hourly distribution from timestamps\n    const hourlyDistribution = Array.from({ length: 24 }, (_, i) => ({ hour: i, count: 0 }));\n    rows.forEach(row => {\n      const timestamp = row[4]; // Full timestamp\n      if (timestamp && timestamp.length >= 10) {\n        try {\n          const hour = parseInt(timestamp.slice(8, 10)); // Extract hour from YYYYMMDDHHmmss\n          if (hour >= 0 && hour <= 23) {\n            hourlyDistribution[hour].count++;\n          }\n        } catch (e) {\n          // Skip invalid timestamps\n        }\n      }\n    });\n    \n    // Monthly activity\n    const monthlyActivity = {};\n    rows.forEach(row => {\n      const date = row[3];\n      if (date && date.length >= 6) {\n        const monthKey = `${date.slice(0,4)}-${date.slice(4,6)}`; // YYYY-MM\n        monthlyActivity[monthKey] = (monthlyActivity[monthKey] || 0) + 1;\n      }\n    });\n    \n    const monthlyActivityArray = Object.entries(monthlyActivity)\n      .map(([month, count]) => ({ month, count }))\n      .sort((a, b) => a.month.localeCompare(b.month));\n    \n    // File size distribution based on actual file sizes\n    const sizeRanges = {\n      '< 1 MB': 0,\n      '1-5 MB': 0,\n      '5-10 MB': 0,\n      '10-15 MB': 0,\n      '> 15 MB': 0\n    };\n    \n    rows.forEach(row => {\n      const sizeMB = (parseInt(row[5]) || 0) / (1024 * 1024);\n      if (sizeMB < 1) sizeRanges['< 1 MB']++;\n      else if (sizeMB < 5) sizeRanges['1-5 MB']++;\n      else if (sizeMB < 10) sizeRanges['5-10 MB']++;\n      else if (sizeMB < 15) sizeRanges['10-15 MB']++;\n      else sizeRanges['> 15 MB']++;\n    });\n    \n    const sizeDistribution = Object.entries(sizeRanges)\n      .map(([range, count]) => ({ range, count }))\n      .filter(item => item.count > 0);\n    \n    // Camera models from metadata\n    const cameraModels = {};\n    rows.forEach(row => {\n      try {\n        const metadataJson = row[6];\n        if (metadataJson && metadataJson !== '{}') {\n          const metadata = JSON.parse(metadataJson);\n          const model = metadata?.data?.Model;\n          if (model && model.trim() !== '') {\n            cameraModels[model] = (cameraModels[model] || 0) + 1;\n          }\n        }\n      } catch (e) {\n        // Skip invalid metadata\n      }\n    });\n    \n    // Add filename-based camera detection as fallback\n    let unknownCameraCount = 0;\n    rows.forEach(row => {\n      const filename = row[2].toUpperCase();\n      let detected = false;\n      \n      // Check if we already have camera info for this file\n      try {\n        const metadata = JSON.parse(row[6] || '{}');\n        if (metadata?.data?.Model) {\n          detected = true;\n        }\n      } catch (e) {}\n      \n      if (!detected) {\n        if (filename.includes('DSC_')) {\n          cameraModels['Nikon DSLR'] = (cameraModels['Nikon DSLR'] || 0) + 1;\n        } else if (filename.includes('IMG_')) {\n          cameraModels['Canon DSLR'] = (cameraModels['Canon DSLR'] || 0) + 1;\n        } else if (filename.includes('IMG') && filename.includes('202')) {\n          cameraModels['Smartphone'] = (cameraModels['Smartphone'] || 0) + 1;\n        } else {\n          unknownCameraCount++;\n        }\n      }\n    });\n    \n    if (unknownCameraCount > 0) {\n      cameraModels['Unknown Camera'] = unknownCameraCount;\n    }\n    \n    const cameraData = Object.entries(cameraModels)\n      .map(([model, count]) => ({ model, count }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 10);\n    \n    const result = {\n      stats: {\n        uniqueUsers,\n        totalFiles,\n        uniqueDates,\n        totalSize,\n        avgFileSize: totalFiles > 0 ? totalSize / totalFiles : 0,\n        geotaggedFiles: geotaggedCount\n      },\n      data: {\n        userContributions: userContribArray,\n        dailyUploads: dailyUploadArray,\n        hourlyDistribution,\n        monthlyActivity: monthlyActivityArray,\n        sizeDistribution,\n        cameraData\n      },\n      geoData: geoLocations\n    };\n    \n    console.log('Processed data summary:', {\n      stats: {\n        users: result.stats.uniqueUsers,\n        files: result.stats.totalFiles,\n        dates: result.stats.uniqueDates,\n        sizeMB: (result.stats.totalSize / 1024 / 1024).toFixed(2),\n        geotagged: result.stats.geotaggedFiles,\n        validGeoPoints: result.geoData.length\n      },\n      distributions: {\n        contributors: result.data.userContributions.length,\n        sizeBuckets: result.data.sizeDistribution.length,\n        cameras: result.data.cameraData.length,\n        uploadDays: result.data.dailyUploads.length\n      }\n    });\n    \n    return result;\n  };\n  \n  // Helper function for empty stats\n  const getEmptyStats = () => {\n    return {\n      stats: {\n        uniqueUsers: 0,\n        totalFiles: 0,\n        uniqueDates: 0,\n        totalSize: 0,\n        avgFileSize: 0,\n        geotaggedFiles: 0\n      },\n      data: {\n        userContributions: [],\n        dailyUploads: [],\n        hourlyDistribution: Array.from({ length: 24 }, (_, i) => ({ hour: i, count: 0 })),\n        monthlyActivity: [],\n        sizeDistribution: [],\n        cameraData: []\n      },\n      geoData: []\n    };\n  };\n\n  return {\n    processData\n  };\n}","<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex flex-col\">\n    <!-- Cover Page -->\n    <CoverPage\n      v-if=\"!selectedCategory\"\n      :categories=\"categories\"\n      :loading=\"loadingCategories\"\n      :error=\"error\"\n      @select=\"selectCategory\"\n      @custom=\"selectCustomCategory\"\n    />\n\n    <!-- Dashboard Page -->\n    <div v-else class=\"flex-1 bg-gradient-to-br from-blue-50 to-green-50 flex flex-col\">\n      <!-- Header with Navigation -->\n      <header class=\"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div class=\"flex justify-between items-center h-16\">\n            <!-- Logo and Title -->\n            <div class=\"flex items-center space-x-4\">\n              <button\n                @click=\"backToHome\"\n                class=\"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-wikimedia-blue to-wikimedia-green rounded-lg hover:shadow-lg transition-all duration-200\"\n                title=\"Back to Categories\"\n              >\n                <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\n                </svg>\n              </button>\n              <div>\n                <h1 class=\"text-xl font-bold text-gray-900\">MIST : Category Analytics</h1>\n                <p class=\"text-sm text-gray-500 hidden sm:block\">\n                  {{ selectedCategory.isCustom ? 'Custom Category Analytics Dashboard' : 'Wikimedia Commons Analytics Dashboard' }}\n                </p>\n              </div>\n            </div>\n            \n            <!-- Top Navigation Menu with Anchors -->\n            <div class=\"flex items-center space-x-4\">\n              <nav class=\"hidden md:flex items-center space-x-6\">\n                <a href=\"#overview\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Overview</a>\n                <a href=\"#map\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\" v-if=\"geoData.length > 0\">Map</a>\n                <a href=\"#activity\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Activity</a>\n                <a href=\"#contributors\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium transition-colors duration-200\">Contributors</a>\n              </nav>\n              \n              <button\n                @click=\"refreshData\"\n                :disabled=\"loading\"\n                class=\"px-4 py-2 bg-gradient-to-r from-wikimedia-blue to-wikimedia-green text-white rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center text-sm font-medium\"\n              >\n                <svg \n                  v-if=\"loading\" \n                  class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" \n                  xmlns=\"http://www.w3.org/2000/svg\" \n                  fill=\"none\" \n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <svg v-else class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\n                </svg>\n                {{ loading ? 'Refreshing...' : 'Refresh' }}\n              </button>\n              \n              <div class=\"md:hidden\">\n                <button @click=\"mobileMenuOpen = !mobileMenuOpen\" class=\"text-gray-700 hover:text-wikimedia-blue p-2\">\n                  <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path v-if=\"!mobileMenuOpen\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    <path v-else stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Mobile menu -->\n          <div v-if=\"mobileMenuOpen\" class=\"md:hidden border-t border-gray-200 py-4\">\n            <nav class=\"flex flex-col space-y-2\">\n              <a href=\"#overview\" @click=\"mobileMenuOpen = false\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Overview</a>\n              <a href=\"#map\" @click=\"mobileMenuOpen = false\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\" v-if=\"geoData.length > 0\">Map</a>\n              <a href=\"#activity\" @click=\"mobileMenuOpen = false\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Activity</a>\n              <a href=\"#contributors\" @click=\"mobileMenuOpen = false\" class=\"text-gray-700 hover:text-wikimedia-blue font-medium py-2 transition-colors duration-200\">Contributors</a>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <!-- Main Dashboard Content -->\n      <main class=\"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full\">\n        <div class=\"mb-8 animate-fade-in\">\n          <h2 class=\"text-3xl md:text-4xl font-bold text-gray-900 mb-3\">\n            {{ selectedCategory.displayName }} Analytics\n          </h2>\n          <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <p class=\"text-lg text-gray-600 leading-relaxed\">\n              <a :href=\"getCommonsUrl()\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-wikimedia-blue hover:text-wikimedia-green transition-colors duration-200\">\n                View Category on Wikimedia Commons\n              </a>\n            </p>\n            \n            <!-- Share URL Section -->\n            <div class=\"flex items-center space-x-2\">\n              <button\n                @click=\"copyShareUrl\"\n                class=\"inline-flex items-center px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors duration-200\"\n                :class=\"{ 'bg-green-100 text-green-700': urlCopied }\"\n              >\n                <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path v-if=\"!urlCopied\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path>\n                  <path v-else stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\n                </svg>\n                {{ urlCopied ? 'Copied!' : 'Share URL' }}\n              </button>\n            </div>\n          </div>\n          \n          <!-- Date Range Info -->\n          <div v-if=\"selectedCategory.startDate || selectedCategory.endDate\" class=\"mt-2 text-sm text-gray-600\">\n            <span v-if=\"selectedCategory.startDate\">From {{ selectedCategory.startDate }}</span>\n            <span v-if=\"selectedCategory.endDate\"> to {{ selectedCategory.endDate }}</span>\n          </div>\n        </div>\n\n        <div v-if=\"error\" class=\"bg-red-50 border-l-4 border-red-400 text-red-700 p-6 rounded-xl mb-8 shadow-lg animate-slide-up\">\n          <div class=\"flex items-center\">\n            <svg class=\"w-6 h-6 mr-3 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n            </svg>\n            <div>\n              <h3 class=\"font-medium\">Error Loading Data</h3>\n              <p class=\"text-sm mt-1\">{{ error }}</p>\n              <div v-if=\"selectedCategory.isCustom && !categoryValidation?.exists\" class=\"text-sm mt-2\">\n                <p>This category may not exist on Wikimedia Commons.</p>\n                <p>Please check the category name and try again.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"loading && !dashboardData\" class=\"text-center py-24 animate-fade-in\">\n          <div class=\"relative inline-block mb-8\">\n            <div class=\"w-20 h-20 border-4 border-wikimedia-blue/20 border-t-wikimedia-blue rounded-full animate-spin\"></div>\n            <div class=\"absolute inset-0 w-20 h-20 border-4 border-transparent border-r-wikimedia-green rounded-full animate-spin\" style=\"animation-delay: -0.5s; animation-direction: reverse;\"></div>\n          </div>\n          <h3 class=\"text-2xl font-semibold text-gray-700 mb-4\">Loading Dashboard Data</h3>\n          <p class=\"text-gray-600 mb-2\">\n            {{ selectedCategory.isCustom \n              ? 'Analyzing custom category from Wikimedia Commons...' \n              : 'Fetching analytics from Wikimedia Commons...' \n            }}\n          </p>\n          <div class=\"flex justify-center items-center space-x-2 text-sm text-gray-500\">\n            <div class=\"w-2 h-2 bg-wikimedia-blue rounded-full animate-bounce\"></div>\n            <div class=\"w-2 h-2 bg-wikimedia-green rounded-full animate-bounce\" style=\"animation-delay: 0.1s\"></div>\n            <div class=\"w-2 h-2 bg-wikimedia-orange rounded-full animate-bounce\" style=\"animation-delay: 0.2s\"></div>\n          </div>\n        </div>\n\n        <!-- Anchored Sections -->\n        <div v-if=\"dashboardData && stats\" class=\"space-y-8 animate-slide-up\">\n          <!-- Overview Section -->\n          <div id=\"overview\" class=\"scroll-mt-20\">\n            <StatsCards :stats=\"stats\" />\n          </div>\n\n          <!-- Map Section -->\n          <div id=\"map\" class=\"scroll-mt-20\" v-if=\"geoData.length > 0\">\n            <PhotoMap :geo-data=\"geoData\" />\n          </div>\n\n          <!-- Activity Section -->\n          <div id=\"activity\" class=\"scroll-mt-20\">\n            <DashboardCharts :data=\"dashboardData\" />\n          </div>\n\n          <!-- Contributors Section -->\n          <div id=\"contributors\" class=\"scroll-mt-20\">\n            <ContributorsTable :user-contributions=\"dashboardData.userContributions\" />\n          </div>\n        </div>\n      </main>\n    </div>\n\n    <!-- Global Footer -->\n    <Footer />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from 'vue';\nimport CoverPage from './components/CoverPage.vue';\nimport StatsCards from './components/StatsCards.vue';\nimport PhotoMap from './components/PhotoMap.vue';\nimport DashboardCharts from './components/DashboardCharts.vue';\nimport ContributorsTable from './components/ContributorsTable.vue';\nimport Footer from './components/Footer.vue';\nimport { useApi } from './composables/useApi';\nimport { useDataProcessor } from './composables/useData';\n\nconst { loading, error, fetchCategories, fetchDashboardData, validateCategory } = useApi();\nconst { processData } = useDataProcessor();\n\nconst categories = ref([]);\nconst selectedCategory = ref(null);\nconst dashboardData = ref(null);\nconst stats = ref(null);\nconst geoData = ref([]);\nconst loadingCategories = ref(false);\nconst mobileMenuOpen = ref(false);\nconst categoryValidation = ref(null);\nconst urlCopied = ref(false);\n\nconst normalizeCategoryName = (name) => name.replace(/^Category:/i, '').replace(/\\s+/g, '_');\nconst getDisplayName = (name) => name.replace(/^Category:/i, '').replace(/_/g, ' ');\nconst getUrlSlug = (name) => normalizeCategoryName(name);\n\nconst getDateRange = (cat) => {\n  const start = cat.startDate || null;\n  let end = cat.endDate || null;\n  if (end && end.toUpperCase && end.toUpperCase() === 'TODAY') {\n    end = new Date().toISOString().slice(0,10);\n  }\n  return { startDate: start, endDate: end };\n};\n\nconst loadCategories = async () => {\n  loadingCategories.value = true;\n  try {\n    const cats = await fetchCategories();\n    categories.value = cats;\n  } catch (err) {\n    console.error('Error loading categories:', err);\n  } finally {\n    loadingCategories.value = false;\n  }\n};\n\nconst selectCategory = (category) => {\n  selectedCategory.value = {\n    ...category,\n    displayName: getDisplayName(category.categoryName || category.name),\n    normalizedName: normalizeCategoryName(category.categoryName || category.name),\n    urlSlug: getUrlSlug(category.categoryName || category.name)\n  };\n  categoryValidation.value = null;\n  mobileMenuOpen.value = false;\n  updateURL(selectedCategory.value.urlSlug);\n  const range = getDateRange(category);\n  fetchData(selectedCategory.value.normalizedName, false, range);\n};\n\nconst selectCustomCategory = async (category) => {\n  selectedCategory.value = {\n    ...category,\n    displayName: getDisplayName(category.categoryName || category.name),\n    normalizedName: normalizeCategoryName(category.categoryName || category.name),\n    urlSlug: getUrlSlug(category.categoryName || category.name),\n    isCustom: true\n  };\n  mobileMenuOpen.value = false;\n  updateURL(selectedCategory.value.urlSlug);\n  try {\n    categoryValidation.value = await validateCategory(selectedCategory.value.displayName);\n  } catch (err) {\n    categoryValidation.value = { exists: false, error: err.message };\n  }\n  fetchData(selectedCategory.value.normalizedName, true, getDateRange(category));\n};\n\nconst backToHome = () => {\n  selectedCategory.value = null;\n  dashboardData.value = null;\n  stats.value = null;\n  geoData.value = [];\n  categoryValidation.value = null;\n  mobileMenuOpen.value = false;\n  urlCopied.value = false;\n  updateURL('');\n};\n\nconst updateURL = (slug) => {\n  const newURL = slug ? `?category=${encodeURIComponent(slug)}` : window.location.pathname;\n  window.history.pushState({}, '', newURL);\n};\n\nconst loadFromURL = () => {\n  const params = new URLSearchParams(window.location.search);\n  let categorySlug = params.get('category');\n  if (categorySlug) {\n    categorySlug = decodeURIComponent(categorySlug).replace(/^Category:/i, '');\n    const normalizedSlug = categorySlug.replace(/\\s+/g, '_');\n    const predefinedCategory = categories.value.find(cat => getUrlSlug(cat.categoryName || cat.name) === normalizedSlug);\n    if (predefinedCategory) { selectCategory(predefinedCategory); return; }\n    const customCategory = { id: `custom-${Date.now()}`, name: normalizedSlug, categoryName: normalizedSlug, description: `Custom analysis for ${getDisplayName(normalizedSlug)}`, icon: 'ðŸ”', year: 'Custom', color1: '#8B5CF6', color2: '#7C3AED', isCustom: true };\n    selectCustomCategory(customCategory);\n  }\n};\n\nconst fetchData = async (categoryName, isCustom = false, dateRange = {}) => {\n  try {\n    const jsonData = await fetchDashboardData(categoryName, isCustom, dateRange);\n    const processed = processData(jsonData);\n    stats.value = processed.stats;\n    dashboardData.value = processed.data;\n    geoData.value = processed.geoData;\n  } catch (err) {\n    console.error('Error fetching data:', err);\n  }\n};\n\nconst refreshData = () => {\n  if (selectedCategory.value) {\n    const range = getDateRange(selectedCategory.value);\n    fetchData(selectedCategory.value.normalizedName, selectedCategory.value.isCustom, range);\n  }\n};\n\nconst getCommonsUrl = () => {\n  if (!selectedCategory.value) return '#';\n  const categoryName = selectedCategory.value.normalizedName;\n  return `https://commons.wikimedia.org/wiki/Category:${categoryName}`;\n};\n\nconst copyShareUrl = async () => {\n  if (!selectedCategory.value) return;\n  const currentUrl = window.location.href;\n  try {\n    await navigator.clipboard.writeText(currentUrl);\n    urlCopied.value = true;\n    setTimeout(() => { urlCopied.value = false; }, 2000);\n  } catch (err) {\n    const textArea = document.createElement('textarea');\n    textArea.value = currentUrl; document.body.appendChild(textArea); textArea.select();\n    try { document.execCommand('copy'); urlCopied.value = true; setTimeout(() => { urlCopied.value = false; }, 2000); } catch {}\n    document.body.removeChild(textArea);\n  }\n};\n\nonMounted(() => { loadCategories(); });\nwatch(categories, () => { if (categories.value.length > 0) { loadFromURL(); } });\n</script>\n\n<style>\nhtml { scroll-behavior: smooth; }\n</style>\n","import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\n\n// Create and mount the Vue application\nconst app = createApp(App)\n\n// Global error handler\napp.config.errorHandler = (err, instance, info) => {\n  console.error('Global error:', err)\n  console.error('Error info:', info)\n  console.error('Component:', instance)\n}\n\n// Global warning handler for development\napp.config.warnHandler = (msg, instance, trace) => {\n  console.warn('Warning:', msg)\n  console.warn('Trace:', trace)\n}\n\n// Mount the app\napp.mount('#app')\n\n// Log application info\nconsole.log('Wikimedia Commons Dashboard initialized')\nconsole.log('Environment:', import.meta.env.MODE)\n"],"names":["_imports_0","emit","__emit","mobileMenuOpen","ref","customCategoryQuery","categorySuggestions","showSuggestions","searchingCategories","selectedSuggestionIndex","categorySearchError","categoryInput","searchTimeout","isImageIcon","icon","onImageError","event","category","parent","fallbackSpan","normalizeCategoryName","name","currentCommonsUrl","computed","categoryName","watch","categorySlug","cleanSlug","handleCategoryInput","query","searchCategories","searchQuery","apiUrl","params","response","data","categoryTitles","item","getCategoryInfo","error","page","navigateSuggestion","direction","selectCurrentSuggestion","selectSuggestion","analyzeCustomCategory","suggestion","nextTick","hideSuggestions","normalizedName","customCategory","handleClickOutside","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_cache","$event","_hoisted_6","_hoisted_8","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_Fragment","_renderList","index","_normalizeClass","_hoisted_20","_toDisplayString","_createTextVNode","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","__props","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","$emit","_hoisted_38","_normalizeStyle","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","formatBytes","bytes","k","sizes","i","_hoisted_16","_hoisted_19","global","factory","exports","this","MarkerClusterGroup","options","animate","layer","visibleLayer","currentZoom","layersArray","skipLayerAddEvent","fg","npg","chunked","chunkInterval","chunkProgress","l","offset","originalArray","m","started","process","start","elapsed","markers","otherMarker","needsClustering","layersArray2","l2","marker","bounds","method","context","needsRemoving","thisNeedsRemoving","j","layers","id","result","anArray","callback","map","showMarker","vMarker","obj","z","gridUnclustered","minZoom","e","isPopupOpen","from","to","dragStart","removeFromDistanceGrid","dontUpdateMap","gridClusters","cluster","el","oel","type","propagate","childCount","c","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","spiderfyOnEveryZoom","bottomCluster","newBounds","maxZoom","radius","radiusFn","zoom","markerPoint","closest","newCluster","lastParent","fn","mapZoom","maxLat","group","output","previousZoomLevel","newZoomLevel","startPos","n","me","MarkerCluster","a","b","storageArray","ignoreDraggedMarker","fitBoundsOptions","childClusters","boundsZoom","newClusters","new1","isNotificationFromChild","child","latSum","lngSum","totalCount","childLatLng","center","cm","mapMinZoom","zoomLevel","nm","previousBounds","exceptBounds","boundsToApplyTo","zoomLevelToStart","zoomLevelToStop","runAtEveryLevel","runAtBottomLevel","backup","cellSize","point","x","y","grid","row","cell","stamp","len","removed","dist","objectPoint","closestDistSq","coord","p","p2","dx","dy","cpt","bl","vY","vX","baseLine","latLngs","maxD","maxPt","newPoints","pt","d","convexHullBaseLines","t","minLat","maxLng","minLng","maxLatPt","minLatPt","maxLngPt","minLngPt","minPt","ch","childMarkers","points","positions","zoomDetails","count","centerPt","circumference","legLength","angleStep","res","angle","spiderfyDistanceMultiplier","separation","lengthFactor","legOptions","leg","newPos","thisLayerLatLng","thisLayerPos","svg","finalLegOpacity","legPath","nonAnimatable","stillThereChildCount","directlyRefreshClusters","props","mapContainer","mapInstance","markerClusterGroup","individualMarkers","clusteringEnabled","clusterCount","initMap","validGeoData","avgLat","sum","avgLon","L","locationIcon","colorClass","popupContent","updateClusterCount","visibleClusters","toggleClustering","newData","onBeforeUnmount","Chart","registerables","millisecondsInWeek","millisecondsInDay","millisecondsInMinute","millisecondsInHour","millisecondsInSecond","constructFromSymbol","constructFrom","date","value","toDate","argument","addDays","amount","_date","addMonths","dayOfMonth","endOfDesiredMonth","daysInMonth","addMilliseconds","addHours","defaultOptions","getDefaultOptions","startOfWeek","weekStartsOn","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","getTimezoneOffsetInMilliseconds","utcDate","normalizeDates","dates","normalize","startOfDay","differenceInCalendarDays","laterDate","earlierDate","laterDate_","earlierDate_","laterStartOfDay","earlierStartOfDay","laterTimestamp","earlierTimestamp","startOfISOWeekYear","fourthOfJanuary","addMinutes","addQuarters","addSeconds","addWeeks","addYears","compareAsc","dateLeft","dateRight","isDate","isValid","differenceInCalendarMonths","yearsDiff","monthsDiff","differenceInCalendarYears","differenceInDays","sign","compareLocalAsc","difference","isLastDayNotFull","getRoundingMethod","number","differenceInHours","differenceInMilliseconds","differenceInMinutes","endOfDay","endOfMonth","month","isLastDayOfMonth","differenceInMonths","workingLaterDate","isLastMonthNotFull","differenceInQuarters","differenceInSeconds","differenceInWeeks","differenceInYears","partial","startOfQuarter","currentMonth","startOfMonth","endOfYear","startOfYear","date_","endOfHour","endOfWeek","endOfMinute","endOfQuarter","endOfSecond","formatDistanceLocale","formatDistance","token","tokenValue","buildFormatLongFn","args","width","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","rem100","localize","quarter","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","key","findIndex","pattern","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","lightFormatters","signedYear","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","input","_message","message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","getInternalDefaultOptions","getISODay","transpose","constructor","isConstructor","TIMEZONE_UNIT_PRIORITY","Setter","_utcDate","ValueSetter","validateValue","setValue","priority","subPriority","flags","DateTimezoneSetter","reference","Parser","dateString","_value","EraParser","numericPatterns","timezonePatterns","mapValue","parseFnResult","mapFn","parseNumericPattern","parseTimezonePattern","seconds","parseAnyDigitsSigned","parseNDigits","parseNDigitsSigned","dayPeriodEnumToHours","dayPeriod","normalizeTwoDigitYear","currentYear","isCommonEra","absCurrentYear","rangeEnd","rangeEndCentury","isPreviousCentury","isLeapYearIndex","YearParser","valueCallback","normalizedTwoDigitYear","LocalWeekYearParser","ISOWeekYearParser","_flags","firstWeekOfYear","ExtendedYearParser","QuarterParser","StandAloneQuarterParser","MonthParser","StandAloneMonthParser","setWeek","LocalWeekParser","setISOWeek","ISOWeekParser","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP_YEAR","DateParser","isLeapYear","DayOfYearParser","setDay","currentDay","dayIndex","delta","DayParser","LocalDayParser","wholeWeekDays","StandAloneLocalDayParser","setISODay","ISODayParser","AMPMParser","AMPMMidnightParser","DayPeriodParser","Hour1to12Parser","isPM","Hour0to23Parser","Hour0To11Parser","Hour1To24Parser","MinuteParser","SecondParser","FractionOfSecondParser","ISOTimezoneWithZParser","ISOTimezoneParser","TimestampSecondsParser","TimestampMillisecondsParser","parsers","notWhitespaceRegExp","parse","dateStr","referenceDate","invalidDate","subFnOptions","setters","tokens","usedTokens","parser","incompatibleTokens","incompatibleToken","usedToken","uniquePrioritySetters","setter","setterArray","startOfHour","startOfMinute","startOfSecond","parseISO","additionalDigits","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","time","parseTime","parseTimezone","tmpDate","patterns","dateRegex","timeRegex","timezoneRegex","timeString","regex","captures","century","isWeekDate","parseDateUnit","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","parseTimeUnit","validateTime","timezoneString","validateTimezone","fourthOfJanuaryDay","daysInMonths","_year","_hours","FORMATS","_adapters","fmt","unit","max","min","weekday","dailyChart","userBarChart","userPieChart","sizeChart","cameraChart","topDaysChart","hourlyChart","monthlyChart","charts","getDateBounds","initCharts","chart","topUsers","u","s","topDays","h","sortKey","sortDir","toggleDir","getUserPageUrl","username","visibleRows","q","rows","dir","av","bv","download","filename","content","mime","blob","url","exportCSV","lines","v","exportWikiTable","userPage","text","user","API_BASE_URL","API_TIMEOUT","useApi","loading","fetchWithTimeout","controller","timeoutId","err","errorText","jsonData","errorMessage","isCustomCategory","dateRange","useDataProcessor","processData","getEmptyStats","uniqueUsers","r","totalFiles","totalSize","uniqueDates","geoLocations","geotaggedCount","metadataJson","metadata","lat","lon","latitude","longitude","formattedDate","userContributions","userContribArray","dailyUploads","dailyUploadArray","hourlyDistribution","_","hour","monthlyActivity","monthKey","monthlyActivityArray","sizeRanges","sizeMB","sizeDistribution","range","cameraModels","model","unknownCameraCount","detected","cameraData","fetchCategories","fetchDashboardData","validateCategory","categories","selectedCategory","dashboardData","stats","geoData","loadingCategories","categoryValidation","urlCopied","getDisplayName","getUrlSlug","getDateRange","cat","end","loadCategories","cats","selectCategory","updateURL","fetchData","selectCustomCategory","backToHome","slug","newURL","loadFromURL","normalizedSlug","predefinedCategory","isCustom","processed","refreshData","getCommonsUrl","copyShareUrl","currentUrl","textArea","_unref","_hoisted_21","_hoisted_37","_hoisted_39","_createVNode","StatsCards","PhotoMap","DashboardCharts","ContributorsTable","_createBlock","CoverPage","Footer","app","createApp","App","instance","info","msg","trace"],"mappings":"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","x_google_ignoreList":[3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123]}